{"remainingRequest":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\index.vue","mtime":1649821624977},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\babel.config.js","mtime":1648542802000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9sbWwvRGVza3RvcC9cdTgyN0VcdTY1ODdcdTY2NkUvXHU1RTk0XHU2MDI1XHU0RThCXHU2NTQ1XHU2QzYwXHU2NTg3XHU2ODYzL0NBVC9DQVQvY29kZS9mcm9udGVuZC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiKTsKCnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJDOi9Vc2Vycy9sbWwvRGVza3RvcC9cdTgyN0VcdTY1ODdcdTY2NkUvXHU1RTk0XHU2MDI1XHU0RThCXHU2NTQ1XHU2QzYwXHU2NTg3XHU2ODYzL0NBVC9DQVQvY29kZS9mcm9udGVuZC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiKSk7Cgp2YXIgX2ZpbGUgPSByZXF1aXJlKCJAL2FwaS9saWIvZmlsZSIpOwoKdmFyIF9rZXl3b3JkID0gcmVxdWlyZSgiQC9hcGkvbGliL2tleXdvcmQiKTsKCnZhciBfY2xhc3NpZmljYXRpb24gPSByZXF1aXJlKCJAL2FwaS9saWIvY2xhc3NpZmljYXRpb24iKTsKCnZhciBfYXV0aCA9IHJlcXVpcmUoIkAvdXRpbHMvYXV0aCIpOwoKdmFyIF9wcmV2aWV3ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3ByZXZpZXcudnVlIikpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gbGV0IGxvYWRpbmc7CnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiRmlsZSIsCiAgY29tcG9uZW50czogewogICAgUHJldmlldzogX3ByZXZpZXcuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmOwoKICAgIHJldHVybiBfcmVmID0gewogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOaWh+S7tuihqOagvOaVsOaNrgogICAgICBmaWxlTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5pel5pyf6IyD5Zu0CiAgICAgIGRhdGVSYW5nZTogW10sCiAgICAgIC8v5omA5bGe54i257G7CiAgICAgIHBhcmVudElkOiBbXSwKICAgICAgLy/liIbnsbvpgInmi6npgInpobkKICAgICAgY2xhc3NpZmljYXRpb25PcHRpb25zOiBbXSwKICAgICAgLy/lhbPplK7or43pgInpobkKICAgICAga2V5d29yZE9wdGlvbnM6IHt9LAogICAgICAvL+WujOWWhOaWh+S7tuWvueivneahhgogICAgICB1cGRhdGVEaWFsb2c6IGZhbHNlLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBjbGFzc05hbWU6IHVuZGVmaW5lZAogICAgICB9LAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogImNoaWxkcmVuIiwKICAgICAgICBsYWJlbDogImxhYmVsIgogICAgICB9LAogICAgICAvLyDliIbnsbvlkI3np7AKICAgICAgY2xhc3NOYW1lOiB1bmRlZmluZWQsCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgY2xhc3NOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5paH5Lu25ZCN56ew5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH0sICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKF9yZWYsICJmaWxlTGlzdCIsIFtdKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoX3JlZiwgImNvbmZpZyIsIHsKICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgKDAsIF9hdXRoLmdldFRva2VuKSgpCiAgICB9KSwgX3JlZjsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMubG9hZENsYXNzaWZpY2F0aW9uVHJlZXNlbGVjdCgpOwogICAgdGhpcy5sb2FkS2V5d29yZExpc3QoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBoZWFkZXJzOiBmdW5jdGlvbiBoZWFkZXJzKCkgewogICAgICByZXR1cm4gewogICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgKDAsIF9hdXRoLmdldFRva2VuKSgpCiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g5qC55o2u5ZCN56ew562b6YCJ6YOo6Zeo5qCRCiAgICBjbGFzc05hbWU6IGZ1bmN0aW9uIGNsYXNzTmFtZSh2YWwpIHsKICAgICAgdGhpcy4kcmVmcy50cmVlLmZpbHRlcih2YWwpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivouaWh+S7tuWIl+ihqCAqLwogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICgwLCBfZmlsZS5saXN0RmlsZSkodGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5maWxlTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnrZvpgInoioLngrkKICAgIGZpbHRlck5vZGU6IGZ1bmN0aW9uIGZpbHRlck5vZGUodmFsdWUsIGRhdGEpIHsKICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7CiAgICAgIHJldHVybiBkYXRhLmxhYmVsLmluZGV4T2YodmFsdWUpICE9PSAtMTsKICAgIH0sCiAgICAvLyDoioLngrnljZXlh7vkuovku7YKICAgIGhhbmRsZU5vZGVDbGljazogZnVuY3Rpb24gaGFuZGxlTm9kZUNsaWNrKGRhdGEpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5maWxlQ2xhc3NJZCA9IGRhdGEuaWQ7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBjbGFzc05hbWU6IHVuZGVmaW5lZAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLmRhdGVSYW5nZSA9IFtdOwogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCgogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgdGhpcy50aXRsZSA9ICLkuIrkvKDmlofku7YiOwogICAgICB0aGlzLmZpbGVMaXN0ID0gW107CiAgICB9LAoKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdmFyIGZpbGVJZCA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgICAgKDAsIF9maWxlLmdldEZpbGUpKGZpbGVJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMyLmZvcm0ua2V5d29yZElkcyA9IHJlc3BvbnNlLmtleXdvcmRJZHM7CiAgICAgICAgX3RoaXMyLnVwZGF0ZURpYWxvZyA9IHRydWU7CiAgICAgICAgX3RoaXMyLnRpdGxlID0gIuS/ruaUueaWh+S7tuWGheWuuSI7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog6I635Y+W5YiG57G75qCR5b2iKi8KICAgIGxvYWRDbGFzc2lmaWNhdGlvblRyZWVzZWxlY3Q6IGZ1bmN0aW9uIGxvYWRDbGFzc2lmaWNhdGlvblRyZWVzZWxlY3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgKDAsIF9jbGFzc2lmaWNhdGlvbi5nZXRUcmVlc2VsZWN0KSgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLmNsYXNzaWZpY2F0aW9uT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKirojrflj5blhbPplK7or43liJfooaggKi8KICAgIGxvYWRLZXl3b3JkTGlzdDogZnVuY3Rpb24gbG9hZEtleXdvcmRMaXN0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgICgwLCBfa2V5d29yZC5vcHRpb25zZWxlY3QpKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQua2V5d29yZE9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOaPkOS6pOaMiemSriAqLwogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBkZWJ1Z2dlcjsKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdmFyIGZpbGVDbGFzc0lkID0gX3RoaXM1LmZvcm0uZmlsZUNsYXNzSWQ7CgogICAgICAgICAgaWYgKGZpbGVDbGFzc0lkLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgX3RoaXM1LmZvcm0uZmlsZUNsYXNzSWQgPSBwYXJzZUludChmaWxlQ2xhc3NJZFtmaWxlQ2xhc3NJZC5sZW5ndGggLSAxXSk7CiAgICAgICAgICB9CgogICAgICAgICAgKDAsIF9maWxlLnVwZGF0ZUZpbGUpKF90aGlzNS5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczUubXNnU3VjY2Vzcygi5L+u5pS55oiQ5YqfIik7CgogICAgICAgICAgICBfdGhpczUudXBkYXRlRGlhbG9nID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpczUuZ2V0TGlzdCgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIGtleXdvcmRJZCA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk5YiG57G757yW5Y+35Li6IicgKyBrZXl3b3JkSWQgKyAnIueahOaVsOaNrumhuT8nLCAi6K2m5ZGKIiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfZmlsZS5kZWxGaWxlKShrZXl3b3JkSWQpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuZ2V0TGlzdCgpOwoKICAgICAgICBfdGhpczYubXNnU3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCgogICAgLyoq5YiG57G75qCR5b2ib25jaGFuZ2Xkuovku7YgKi8KICAgIGhhbmRsZUZpbGVDbGFzc0lkQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVGaWxlQ2xhc3NJZENoYW5nZSh2YWx1ZSkgewogICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7CiAgICB9LAoKICAgIC8qKumZkOWItumAieaLqeS4iuS8oOS4quaVsCAqLwogICAgaGFuZGxlRXhjZWVkOiBmdW5jdGlvbiBoYW5kbGVFeGNlZWQoZmlsZXMsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygiXHU1RjUzXHU1MjREXHU5NjUwXHU1MjM2XHU5MDA5XHU2MkU5IDMgXHU0RTJBXHU2NTg3XHU0RUY2XHVGRjBDXHU2NzJDXHU2QjIxXHU5MDA5XHU2MkU5XHU0RTg2ICIuY29uY2F0KGZpbGVzLmxlbmd0aCwgIiBcdTRFMkFcdTY1ODdcdTRFRjZcdUZGMENcdTUxNzFcdTkwMDlcdTYyRTlcdTRFODYgIikuY29uY2F0KGZpbGVzLmxlbmd0aCArIGZpbGVMaXN0Lmxlbmd0aCwgIiBcdTRFMkFcdTY1ODdcdTRFRjYiKSk7CiAgICB9LAoKICAgIC8qKuS4iuS8oOaIkOWKn+WQjua3u+WKoOaVsOaNruWIsOWQjuWPsCDlsIbkuIrkvKDlkI7nmoTlnLDlnYDkv53lrZjliLDmlbDmja7lupMgKi8KICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICB2YXIgZmlsZUluZm8gPSB7fTsKICAgICAgICBmaWxlSW5mby5maWxlTmFtZSA9IGZpbGUubmFtZTsKICAgICAgICBmaWxlSW5mby5maWxlU2l6ZSA9IGZpbGUuc2l6ZTsKICAgICAgICBmaWxlSW5mby5maWxlRXh0ID0gZmlsZS5uYW1lLnNwbGl0KCcuJylbMV07CiAgICAgICAgZmlsZUluZm8uZmlsZVV1aWQgPSBmaWxlLnVpZDsKICAgICAgICBmaWxlSW5mby5maWxlUGF0aCA9IHJlcy5kYXRhLnVybDsKICAgICAgICAoMCwgX2ZpbGUuYWRkRmlsZSkoZmlsZUluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczcubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBiZWZvcmVBdmF0YXJVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgIC8vIOaWh+S7tuexu+Wei+i/m+ihjOWIpOaWrQogICAgICAvLyBjb25zdCBpc1hsc3ggPSBmaWxlLnR5cGUgPT09ICJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCI7CiAgICAgIC8vIGNvbnN0IGlzWGxzID0gZmlsZS50eXBlID09PSAiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsIjsKICAgICAgLy8gY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwogICAgICAvLyBpZiAoIShpc1hsc3h8fGlzWGxzKSkgewogICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5LiK5Lyg5aS05YOP5Zu+54mH5Y+q6IO95pivIHhsc3gveGxzIOagvOW8jyEiKTsKICAgICAgLy8gfQogICAgICAvLyBpZiAoIWlzTHQyTSkgewogICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5LiK5Lyg5aS05YOP5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDJNQiEiKTsKICAgICAgLy8gfQogICAgICAvLyByZXR1cm4gKGlzWGxzeHx8aXNYbHMpICYmIGlzTHQyTTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAoKICAgIC8qKuaWh+S7tumihOiniCAqLwogICAgcHJldmlldzogZnVuY3Rpb24gcHJldmlldyhyb3cpIHsKICAgICAgZGVidWdnZXI7CgogICAgICBpZiAocm93LmZpbGVFeHQgPT0gJ3BkZicpIHsKICAgICAgICB0aGlzLnNob3dFeHQgPSAicGRmIjsKICAgICAgICB0aGlzLmZpbGVVcmwgPSByb3cuZmlsZVBhdGg7CiAgICAgIH0KCiAgICAgIGlmIChyb3cuZmlsZUV4dCA9PSAnZG9jeCcgfHwgcm93LmZpbGVFeHQgPT0gJ2RvYycpIHsKICAgICAgICB0aGlzLnNob3dFeHQgPSAiZG9jeCI7CiAgICAgICAgdGhpcy5maWxlVXJsID0gcm93LmZpbGVQYXRoOwogICAgICB9CiAgICB9LAogICAgLy/lhbPpl61wZGbpooTop4gKICAgIGNsb3NlcGRmOiBmdW5jdGlvbiBjbG9zZXBkZigpIHsKICAgICAgdGhpcy5zaG93RXh0ID0gdW5kZWZpbmVkOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA+LA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;eACA;AACAA,cADA;AAEAC;AACAC;AADA,GAFA;AAKAC,MALA,kBAKA;AAAA;;AACA;AACA;AACAC,oBAFA;AAGA;AACAC,aAJA;AAKA;AACAC,kBANA;AAOA;AACAC,oBARA;AASA;AACAC,sBAVA;AAWA;AACAC,cAZA;AAaA;AACAC,kBAdA;AAeA;AACAC,eAhBA;AAiBA;AACAC,iBAlBA;AAmBA;AACAC,mBApBA;AAqBA;AACAC,kBAtBA;AAuBA;AACAC,+BAxBA;AAyBA;AACAC,wBA1BA;AA2BA;AACAC,yBA5BA;AA8BA;AACAC;AACAC,kBADA;AAEAC,oBAFA;AAGAC;AAHA,OA/BA;AAoCAC;AACAC,4BADA;AAEAC;AAFA,OApCA;AAwCA;AACAH,0BAzCA;AA2CA;AACAI,cA5CA;AA6CA;AACAC;AACAL,oBACA;AAAAM;AAAAC;AAAAC;AAAA,SADA;AADA;AA9CA,uDAoDA,EApDA,iDAqDA;AACAC;AADA,KArDA;AA2DA,GAjEA;AAkEAC,SAlEA,qBAkEA;AACA;AACA;AACA;AAEA,GAvEA;AAwEAC;AACAC,WADA,qBACA;AACA;AACA;AADA;AAGA;AALA,GAxEA;AA+EAC;AACA;AACAb,aAFA,qBAEAc,GAFA,EAEA;AACA;AACA;AAJA,GA/EA;AAqFAC;AACA;AACAC,WAFA,qBAEA;AAAA;;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA,KARA;AASA;AACAC,cAVA,sBAUAC,KAVA,EAUApC,IAVA,EAUA;AACA;AACA;AACA,KAbA;AAcA;AACAqC,mBAfA,2BAeArC,IAfA,EAeA;AACA;AACA;AACA,KAlBA;AAoBA;AACAsC,UArBA,oBAqBA;AACA;AACA;AACA,KAxBA;AAyBA;AACAC,SA1BA,mBA0BA;AACA;AACArB;AADA;AAGA;AACA,KA/BA;;AAgCA;AACAsB,eAjCA,yBAiCA;AACA;AACA;AACA,KApCA;;AAqCA;AACAC,cAtCA,wBAsCA;AACA;AACA;AACA;AACA,KA1CA;;AA4CA;AACAC,aA7CA,uBA6CA;AACA;AACA;AACA;AACA;AACA,KAlDA;;AAqDA;AACAC,gBAtDA,wBAsDAC,GAtDA,EAsDA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KA/DA;;AAgEA;AACAC,gCAjEA,0CAiEA;AAAA;;AACA;AACA;AACA,OAFA;AAGA,KArEA;;AAsEA;AACAC,mBAvEA,6BAuEA;AAAA;;AACA;AACA;AACA,OAFA;AAIA,KA5EA;;AA8EA;AACAC;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;;AACA;AACA,WAJA;AAMA;AACA,OAbA;AAcA,KA/FA;;AAgGA;AACAC,gBAjGA,wBAiGAJ,GAjGA,EAiGA;AAAA;;AACA;AACA;AACAK,+BADA;AAEAC,8BAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AACA;AACA,OANA,EAMAA,IANA,CAMA;AACA;;AACA;AACA,OATA,EASAC,KATA,CASA,cATA;AAUA,KA7GA;;AA8GA;AACAC,2BA/GA,mCA+GAlB,KA/GA,EA+GA;AACAmB;AACA,KAjHA;;AAkHA;AACAC,gBAnHA,wBAmHAC,KAnHA,EAmHAlD,QAnHA,EAmHA;AACA;AACA,KArHA;;AAuHA;AACAmD,uBAxHA,+BAwHAC,GAxHA,EAwHAC,IAxHA,EAwHA;AAAA;;AACA;AACA;AACAC;AACAA;AACAA;AACAA;AACAA;AAEA;AACA;AACA,SAFA;AAGA;AACA,KArIA;AAuIAC,sBAvIA,8BAuIAF,IAvIA,EAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApJA;;AAqJA;AACAG,WAtJA,mBAsJAnB,GAtJA,EAsJA;AACA;;AAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,KAjKA;AAkKA;AACAoB,YAnKA,sBAmKA;AACA;AACA;AArKA;AArFA,C","names":["name","components","Preview","data","loading","ids","single","multiple","showSearch","total","fileList","title","open","dateRange","parentId","classificationOptions","keywordOptions","updateDialog","queryParams","pageNum","pageSize","className","defaultProps","children","label","form","rules","required","message","trigger","Authorization","created","computed","headers","watch","val","methods","getList","filterNode","value","handleNodeClick","cancel","reset","handleQuery","resetQuery","handleAdd","handleUpdate","row","loadClassificationTreeselect","loadKeywordList","submitForm","handleDelete","confirmButtonText","cancelButtonText","type","then","catch","handleFileClassIdChange","console","handleExceed","files","handleAvatarSuccess","res","file","fileInfo","beforeAvatarUpload","preview","closepdf"],"sourceRoot":"src/views/lib/file","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row :gutter=\"20\">\n      <!--分类数据-->\n      <el-col :span=\"4\" :xs=\"24\">\n        <div class=\"head-container\">\n          <el-input\n            v-model=\"className\"\n            placeholder=\"请输入分类名称\"\n            clearable\n            size=\"small\"\n            prefix-icon=\"el-icon-search\"\n            style=\"margin-bottom: 20px\"\n          />\n        </div>\n        <div class=\"head-container\">\n          <el-tree\n            :data=\"classificationOptions\"\n            :props=\"defaultProps\"\n            :expand-on-click-node=\"false\"\n            :filter-node-method=\"filterNode\"\n            ref=\"tree\"\n            default-expand-all\n            @node-click=\"handleNodeClick\"\n          />\n        </div>\n      </el-col>\n        <el-col :span=\"20\" :xs=\"24\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" v-show=\"showSearch\" :inline=\"true\">\n\n      <el-form-item label=\"关键词名称\" prop=\"keywordName\">\n        <el-select v-model=\"queryParams.keywordIds\" multiple placeholder=\"请选择关键词\">\n                  <el-option \n                  v-for=\"item in keywordOptions\"  \n                  :key=\"item.id\" \n                  :label=\"item.keywordName\"\n                  :value=\"item.id\"\n                   clearable\n                  size=\"small\"\n                  style=\"width: 280px\"\n                   @keyup.enter.native=\"handleQuery\"\n                  ></el-option>\n          </el-select>\n      </el-form-item>\n      <el-form-item label=\"文件名称\" prop=\"keywordName\">\n        <el-input\n          v-model=\"queryParams.keywordName\"\n          placeholder=\"请输入文件名称\"\n          clearable\n          size=\"small\"\n          style=\"width: 240px\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n        >上传</el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"fileList\" \n      row-key=\"id\" \n      :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\n    >\n      <el-table-column label=\"文件编号\" prop=\"id\" />\n      <el-table-column label=\"文件名称\" prop=\"fileName\" :show-overflow-tooltip=\"true\" />\n      <el-table-column label=\"文件大小\" prop=\"fileSize\" :show-overflow-tooltip=\"true\" />\n      <el-table-column label=\"文件类型\" prop=\"fileStyle\" :show-overflow-tooltip=\"true\">\n         <template slot-scope=\"scope\">\n          <span v-if=\"scope.fileExt =='pdf'\">PDF文件</span>\n          <span v-if=\"scope.fileExt =='word'\">word文件</span>\n          <span v-if=\"scope.fileExt =='war'\">WAR压缩包</span>\n        </template>\n      </el-table-column>\n       <el-table-column label=\"文件后缀标识\" prop=\"fileExt\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"文件唯一标识\" prop=\"fileUuid\" :show-overflow-tooltip=\"true\" v-show=\"false\" />\n      <el-table-column label=\"文件分类\" prop=\"fileClassId\" :show-overflow-tooltip=\"true\" v-show=\"false\" />\n      <el-table-column label=\"文件地址\" prop=\"filePath\" :show-overflow-tooltip=\"true\" v-show=\"false\" />\n      <el-table-column label=\"文件简介\" prop=\"fileBrief\" :show-overflow-tooltip=\"true\" v-show=\"false\" />\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" >\n        <template slot-scope=\"scope\">\n          <span>{{ parseTime(scope.row.createTime) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-look\"\n            @click=\"preview(scope.row)\"\n          >查看</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n    </el-col>\n  </el-row>\n    <!-- 上传文件对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n        <el-upload\n                class=\"upload-demo\"\n                action=\"http://192.168.0.133:8080/file/upload\"\n                :headers=\"headers\"\n                :before-upload=\"beforeAvatarUpload\"  \n                :on-success=\"handleAvatarSuccess\" \n                 multiple\n                :limit=\"3\"   \n                :on-exceed=\"handleExceed\"  \n                :file-list=\"fileList\">  \n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n            <!-- <div slot=\"tip\" class=\"el-upload__tip\">只能上传xlsx/xls文件，且不超过2MB</div> -->\n        </el-upload>\n      </el-form>\n    </el-dialog>\n<!-- 修改对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"updateDialog\" width=\"500px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n        <el-form-item label=\"文件名称\" prop=\"fileName\">\n          <el-input v-model=\"form.fileName\" placeholder=\"请选择文件名称\" />\n        </el-form-item>\n        <el-form-item label=\"文件分类\" prop=\"fileClassId\">\n          <el-cascader\n                  v-model=\"form.fileClassId\"\n                  :options=\"classificationOptions\"\n                  :props=\"{ checkStrictly: true }\"\n                  :show-all-levels=\"false\"\n                  clearable\n                  @change=\"handleFileClassIdChange\"></el-cascader>\n        </el-form-item>\n         <el-form-item label=\"关键词\" prop=\"keywordIds\">\n            <el-select v-model=\"form.keywordIds\" multiple placeholder=\"请选择关键词\">\n                  <el-option \n                  v-for=\"item in keywordOptions\"  \n                  :key=\"item.id\" \n                  :label=\"item.keywordName\"\n                  :value=\"item.id\"\n                  ></el-option>\n              </el-select>\n        </el-form-item>\n         <el-form-item label=\"文件简介\" prop=\"fileBrief\">\n          <el-input  \n           type=\"textarea\"\n            autosize v-model=\"form.fileBrief\" placeholder=\"请输入文件简介\" />\n        </el-form-item>\n       \n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n    <!--预览插件-->\n    <preview v-bind:showExt=\"showExt\" :fileUrl=\"fileUrl\" @closepdf=\"closepdf\"  ></preview>\n  </div>\n</template>\n\n<script>\nimport { listFile,getFile,delFile,updateFile,addFile,viewFile} from \"@/api/lib/file\";\nimport { optionselect} from \"@/api/lib/keyword\";\nimport { getTreeselect} from \"@/api/lib/classification\";\nimport { getToken } from '@/utils/auth';\nimport Preview from './preview.vue';\n// let loading;\nexport default {\n  name: \"File\",\n  components: {\n    Preview\n  },\n  data() {\n    return {\n      // 遮罩层\n      loading: false,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 文件表格数据\n      fileList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 日期范围\n      dateRange: [],\n      //所属父类\n      parentId: [],\n       //分类选择选项\n      classificationOptions:[],\n      //关键词选项\n      keywordOptions:{},\n      //完善文件对话框\n      updateDialog:false,\n  \n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        className:undefined\n      },\n      defaultProps: {\n        children: \"children\",\n        label: \"label\"\n      },\n      // 分类名称\n      className: undefined,\n     \n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        className: [\n          { required: true, message: \"文件名称不能为空\", trigger: \"blur\" }\n        ]\n      },\n      //上传文件的list\n       fileList: [],\n       config :{\n         Authorization:  'Bearer ' + getToken() ,\n       },\n      \n    }\n\n  },\n  created() {\n    this.getList();\n    this.loadClassificationTreeselect()\n    this.loadKeywordList()\n    \n  },\n  computed: {\n    headers() {\n      return {\n          'Authorization': 'Bearer ' + getToken() ,\n      }\n   },\n  },\n  watch: {\n  // 根据名称筛选部门树\n  className(val) {\n    this.$refs.tree.filter(val);\n  }\n},\n  methods: {\n    /** 查询文件列表 */\n    getList() {\n     this.loading = true;\n     listFile(this.queryParams).then(response => {\n        this.fileList = response.rows;\n        this.loading = false;\n      });\n    },\n        // 筛选节点\n    filterNode(value, data) {\n      if (!value) return true;\n      return data.label.indexOf(value) !== -1;\n    },\n    // 节点单击事件\n    handleNodeClick(data) {\n      this.queryParams.fileClassId = data.id;\n      this.getList();\n    },\n  \n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        className: undefined\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.dateRange = [];\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n   \n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true\n      this.title = \"上传文件\";\n      this.fileList = []\n    },\n    \n\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      const fileId = row.id || this.ids\n      getFile(fileId).then(response => {\n        this.form = response.data;\n        this.form.keywordIds= response.keywordIds\n        this.updateDialog = true\n        this.title = \"修改文件内容\";\n      });\n    },\n    /** 获取分类树形*/\n    loadClassificationTreeselect(){\n      getTreeselect().then(response=>{\n        this.classificationOptions = response.data;\n      })\n    },\n    /**获取关键词列表 */\n     loadKeywordList() {\n        optionselect().then(response => {\n            this.keywordOptions = response.data;\n          }\n        );\n      },\n   \n    /** 提交按钮 */\n    submitForm: function() {\n      debugger\n       this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          let fileClassId = this.form.fileClassId;\n          if(fileClassId.length >0){\n            this.form.fileClassId = parseInt(fileClassId[fileClassId.length-1])\n          }\n            updateFile(this.form).then(response => {\n              this.msgSuccess(\"修改成功\");\n              this.updateDialog = false;\n              this.getList();\n            });\n          \n        }\n      });\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const keywordId = row.id || this.ids;\n      this.$confirm('是否确认删除分类编号为\"' + keywordId + '\"的数据项?', \"警告\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }).then(function() {\n          return delFile(keywordId);\n        }).then(() => {\n          this.getList();\n          this.msgSuccess(\"删除成功\");\n        }).catch(() => {});\n    },\n    /**分类树形onchange事件 */\n    handleFileClassIdChange(value){\n      console.log(value);\n    },\n    /**限制选择上传个数 */\n      handleExceed(files, fileList) {\n          this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n      },\n\n      /**上传成功后添加数据到后台 将上传后的地址保存到数据库 */\n      handleAvatarSuccess(res, file) {\n        if(res.code === 200){\n          let fileInfo = {}\n          fileInfo.fileName = file.name\n          fileInfo.fileSize = file.size\n          fileInfo.fileExt = file.name.split('.')[1]\n          fileInfo.fileUuid = file.uid\n          fileInfo.filePath  = res.data.url\n\n          addFile(fileInfo).then(response => {\n              this.msgSuccess(\"新增成功\");\n          });\n        }\n        },\n      \n        beforeAvatarUpload(file) {\n            // 文件类型进行判断\n            // const isXlsx = file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n            // const isXls = file.type === \"application/vnd.ms-excel\";\n            // const isLt2M = file.size / 1024 / 1024 < 2;\n            // if (!(isXlsx||isXls)) {\n            //     this.$message.error(\"上传头像图片只能是 xlsx/xls 格式!\");\n            // }\n            // if (!isLt2M) {\n            //     this.$message.error(\"上传头像图片大小不能超过 2MB!\");\n            // }\n            // return (isXlsx||isXls) && isLt2M;\n            return true;\n        },\n        /**文件预览 */\n      preview(row) {\n        debugger\n         \n        if(row.fileExt == 'pdf' ){\n          this.showExt  = \"pdf\"\n          this.fileUrl = row.filePath\n        }\n        if(row.fileExt == 'docx' || row.fileExt == 'doc' ){\n          this.showExt  = \"docx\"\n           this.fileUrl = row.filePath\n        }\n      },\n      //关闭pdf预览\n      closepdf () {\n        this.showExt = undefined\n      },\n  }\n};\n</script>"]}]}