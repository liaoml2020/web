{"remainingRequest":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\directive\\permission\\hasRole.js","dependencies":[{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\directive\\permission\\hasRole.js","mtime":1648542802000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\babel.config.js","mtime":1648542802000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9sbWwvRGVza3RvcC9cdTgyN0VcdTY1ODdcdTY2NkUvXHU1RTk0XHU2MDI1XHU0RThCXHU2NTQ1XHU2QzYwXHU2NTg3XHU2ODYzL0NBVC9DQVQvY29kZS9mcm9udGVuZC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyIpOwoKdmFyIF9zdG9yZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9zdG9yZSIpKTsKCi8qKgoqIOinkuiJsuadg+mZkOWkhOeQhgoqIENvcHlyaWdodCAoYykgMjAyMSBBdmFudHBvcnQKKi8KdmFyIF9kZWZhdWx0ID0gewogIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZywgdm5vZGUpIHsKICAgIHZhciB2YWx1ZSA9IGJpbmRpbmcudmFsdWU7CiAgICB2YXIgc3VwZXJfYWRtaW4gPSAiYWRtaW4iOwogICAgdmFyIHJvbGVzID0gX3N0b3JlLmRlZmF1bHQuZ2V0dGVycyAmJiBfc3RvcmUuZGVmYXVsdC5nZXR0ZXJzLnJvbGVzOwoKICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIHJvbGVGbGFnID0gdmFsdWU7CiAgICAgIHZhciBoYXNSb2xlID0gcm9sZXMuc29tZShmdW5jdGlvbiAocm9sZSkgewogICAgICAgIHJldHVybiBzdXBlcl9hZG1pbiA9PT0gcm9sZSB8fCByb2xlRmxhZy5pbmNsdWRlcyhyb2xlKTsKICAgICAgfSk7CgogICAgICBpZiAoIWhhc1JvbGUpIHsKICAgICAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlx1OEJGN1x1OEJCRVx1N0Y2RVx1ODlEMlx1ODI3Mlx1Njc0M1x1OTY1MFx1NjgwN1x1N0I3RVx1NTAzQ1wiIik7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["C:/Users/lml/Desktop/艾文普/应急事故池文档/CAT/CAT/code/frontend/web/src/directive/permission/hasRole.js"],"names":["inserted","el","binding","vnode","value","super_admin","roles","store","getters","Array","length","roleFlag","hasRole","some","role","includes","parentNode","removeChild","Error"],"mappings":";;;;;;;;;;;;;;;AAKA;;AALC;AACD;AACA;AACA;eAIe;AACbA,EAAAA,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;AAC3B,QAAQC,KAAR,GAAkBF,OAAlB,CAAQE,KAAR;AACA,QAAMC,WAAW,GAAG,OAApB;AACA,QAAMC,KAAK,GAAGC,eAAMC,OAAN,IAAiBD,eAAMC,OAAN,CAAcF,KAA7C;;AAEA,QAAIF,KAAK,IAAIA,KAAK,YAAYK,KAA1B,IAAmCL,KAAK,CAACM,MAAN,GAAe,CAAtD,EAAyD;AACvD,UAAMC,QAAQ,GAAGP,KAAjB;AAEA,UAAMQ,OAAO,GAAGN,KAAK,CAACO,IAAN,CAAW,UAAAC,IAAI,EAAI;AACjC,eAAOT,WAAW,KAAKS,IAAhB,IAAwBH,QAAQ,CAACI,QAAT,CAAkBD,IAAlB,CAA/B;AACD,OAFe,CAAhB;;AAIA,UAAI,CAACF,OAAL,EAAc;AACZX,QAAAA,EAAE,CAACe,UAAH,IAAiBf,EAAE,CAACe,UAAH,CAAcC,WAAd,CAA0BhB,EAA1B,CAAjB;AACD;AACF,KAVD,MAUO;AACL,YAAM,IAAIiB,KAAJ,kEAAN;AACD;AACF;AAnBY,C","sourcesContent":[" /**\n * 角色权限处理\n * Copyright (c) 2021 Avantport\n */\n \nimport store from '@/store'\n\nexport default {\n  inserted(el, binding, vnode) {\n    const { value } = binding\n    const super_admin = \"admin\";\n    const roles = store.getters && store.getters.roles\n\n    if (value && value instanceof Array && value.length > 0) {\n      const roleFlag = value\n\n      const hasRole = roles.some(role => {\n        return super_admin === role || roleFlag.includes(role)\n      })\n\n      if (!hasRole) {\n        el.parentNode && el.parentNode.removeChild(el)\n      }\n    } else {\n      throw new Error(`请设置角色权限标签值\"`)\n    }\n  }\n}\n"]}]}