{"remainingRequest":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\components\\FilePreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\components\\FilePreview.vue","mtime":1649770186893},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\babel.config.js","mtime":1648542802000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBwcm9wczogWydUcmFnZXRQaWMnLCAnRmlsZVByZUFsbCddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBFbGVXaWR0aDogIiIsCiAgICAgIEVsZUhlaWdodDogIiIsCiAgICAgIFRyYWdldE9iajoge30sCiAgICAgIC8vIOebruagh+WvueixoQogICAgICBGaWxlUHJlc0FsbDogW10sCiAgICAgIC8vIOa4suafk+aVsOe7hAogICAgICBOdW1JbmRleDogMCwKICAgICAgLy8g5b2T5YmN5riy5p+T55uu5qCH55qE5LiL5qCHCiAgICAgIGxvYWRpbmdGbGFnOiBmYWxzZSAvLyDliqDovb0KCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuVHJhZ2V0T2JqID0gdGhpcy5UcmFnZXRQaWM7IC8vIOebruagh+WvueixoQoKICAgIHRoaXMuRmlsZVByZXNBbGwgPSB0aGlzLkZpbGVQcmVBbGw7IC8vIOa4suafk+aVsOe7hAogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuRWxlV2lkdGggPT0gIiIpIHsKICAgICAgaWYgKHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAnanBnJyAmJiB0aGlzLlRyYWdldE9iai5mb3JtYXQgIT0gJ3BuZycgJiYgdGhpcy5UcmFnZXRPYmouZm9ybWF0ICE9ICdKUEcnICYmIHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAnUE5HJyAmJiB0aGlzLlRyYWdldE9iai5mb3JtYXQgIT0gJ2pwZWcnICYmIHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAndGlmZicgJiYgdGhpcy5UcmFnZXRPYmouZm9ybWF0ICE9ICdzd2YnICYmIHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAnZ2lmJyAmJiB0aGlzLlRyYWdldE9iai5mb3JtYXQgIT0gJ0pQRUcnICYmIHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAnR0lGJykgewogICAgICAgIHRoaXMubG9hZGluZ0ZsYWcgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9hZGluZ0ZsYWcgPSBmYWxzZTsKICAgICAgfQogICAgfSAvLyDojrflj5bnm67moIflhYPntKDlgLwKCgogICAgdmFyIFRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIlRhcmdldCIpWzBdOwogICAgdGhpcy5FbGVXaWR0aCA9IFRhcmdldC5vZmZzZXRXaWR0aDsKICAgIHRoaXMuRWxlSGVpZ2h0ID0gVGFyZ2V0Lm9mZnNldEhlaWdodDsKCiAgICBpZiAodGhpcy5FbGVXaWR0aCAhPSAiIikgewogICAgICB0aGlzLmxvYWRpbmdGbGFnID0gZmFsc2U7CiAgICB9IC8vIGNvbnNvbGUubG9nKHRoaXMuRWxlV2lkdGgpCiAgICAvLyDojrflj5blvZPliY3nm67moIfnmoTkuIvmoIflgLwKCgogICAgdGhpcy5GaWxlUHJlc0FsbC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICBpZiAoaXRlbS5GaWxlTmFtZSA9PSBfdGhpcy5UcmFnZXRPYmouRmlsZU5hbWUpIHsKICAgICAgICBfdGhpcy5OdW1JbmRleCA9IGluZGV4OwogICAgICB9CiAgICB9KTsKICB9LAogIGJlZm9yZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlVXBkYXRlKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgaWYgKHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAnanBnJyAmJiB0aGlzLlRyYWdldE9iai5mb3JtYXQgIT0gJ3BuZycgJiYgdGhpcy5UcmFnZXRPYmouZm9ybWF0ICE9ICdKUEcnICYmIHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAnUE5HJyAmJiB0aGlzLlRyYWdldE9iai5mb3JtYXQgIT0gJ2pwZWcnICYmIHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAndGlmZicgJiYgdGhpcy5UcmFnZXRPYmouZm9ybWF0ICE9ICdzd2YnICYmIHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAnZ2lmJyAmJiB0aGlzLlRyYWdldE9iai5mb3JtYXQgIT0gJ0pQRUcnICYmIHRoaXMuVHJhZ2V0T2JqLmZvcm1hdCAhPSAnR0lGJykgewogICAgICB0aGlzLmxvYWRpbmdGbGFnID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubG9hZGluZ0ZsYWcgPSBmYWxzZTsKICAgIH0KCiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlbGVQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2JqZWN0Jyk7IC8vIOiOt+WPluebruagh+WFg+e0oOWAvAoKICAgICAgdmFyIFRhcmdldCA9IGVsZVBhcmVudC5jaGlsZHJlblswXTsKICAgICAgX3RoaXMyLkVsZVdpZHRoID0gVGFyZ2V0Lm9mZnNldFdpZHRoOwogICAgICBfdGhpczIuRWxlSGVpZ2h0ID0gVGFyZ2V0Lm9mZnNldEhlaWdodDsgLy8gY29uc29sZS5sb2coVGFyZ2V0KQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmlL7lpKflip/og70KICAgIG9uQ2xpY2tFbmxhcmdlOiBmdW5jdGlvbiBvbkNsaWNrRW5sYXJnZSgpIHsKICAgICAgdmFyIFRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIlRhcmdldCIpWzBdOwogICAgICBUYXJnZXQuc3R5bGUuaGVpZ2h0ID0gVGFyZ2V0LmhlaWdodCAqIDEuMSArICdweCc7CiAgICAgIFRhcmdldC5zdHlsZS53aWR0aCA9IFRhcmdldC53aWR0aCAqIDEuMSArICdweCc7CiAgICB9LAogICAgLy8g57yp5bCP5Yqf6IO9CiAgICBvbkNsaWNrTmFycm93OiBmdW5jdGlvbiBvbkNsaWNrTmFycm93KCkgewogICAgICB2YXIgVGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiVGFyZ2V0IilbMF07CiAgICAgIFRhcmdldC5zdHlsZS5oZWlnaHQgPSBUYXJnZXQuaGVpZ2h0IC8gMS4xICsgJ3B4JzsKICAgICAgVGFyZ2V0LnN0eWxlLndpZHRoID0gVGFyZ2V0LndpZHRoIC8gMS4xICsgJ3B4JzsKICAgIH0sCiAgICAvLyDov5Tlm57ljp/lm77lpKflsI8KICAgIG9uQ2xpY2tSZXR1cm5PcmlnaW5hbDogZnVuY3Rpb24gb25DbGlja1JldHVybk9yaWdpbmFsKCkgewogICAgICB2YXIgVGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiVGFyZ2V0IilbMF07CiAgICAgIFRhcmdldC5zdHlsZS5oZWlnaHQgPSB0aGlzLkVsZUhlaWdodCArICdweCc7CiAgICAgIFRhcmdldC5zdHlsZS53aWR0aCA9IHRoaXMuRWxlV2lkdGggKyAncHgnOwogICAgfSwKICAgIC8vIOeCueWHu+S4i+S4gOS4quS6i+S7tgogICAgb25DbGlja05leHQ6IGZ1bmN0aW9uIG9uQ2xpY2tOZXh0KCkgewogICAgICBpZiAodGhpcy5OdW1JbmRleCA8IHRoaXMuRmlsZVByZXNBbGwubGVuZ3RoIC0gMSkgewogICAgICAgIHRoaXMuTnVtSW5kZXgrKzsKICAgICAgICB0aGlzLlRyYWdldE9iaiA9IHRoaXMuRmlsZVByZXNBbGxbdGhpcy5OdW1JbmRleF07CiAgICAgIH0KICAgIH0sCiAgICAvLyDngrnlh7vkuIrkuIDkuKrkuovku7YKICAgIG9uQ0xpY2tQcmV2aW91czogZnVuY3Rpb24gb25DTGlja1ByZXZpb3VzKCkgewogICAgICBpZiAodGhpcy5OdW1JbmRleCAhPSAwKSB7CiAgICAgICAgdGhpcy5OdW1JbmRleC0tOwogICAgICAgIHRoaXMuVHJhZ2V0T2JqID0gdGhpcy5GaWxlUHJlc0FsbFt0aGlzLk51bUluZGV4XTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXreaMiemSrgogICAgb25DbGlja0Nsb3NlOiBmdW5jdGlvbiBvbkNsaWNrQ2xvc2UoKSB7CiAgICAgIC8vIOWFs+mXreinhumikeWjsOmfswogICAgICBpZiAodGhpcy4kcmVmcy52aWRlb3JlZiAhPSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLiRyZWZzLnZpZGVvcmVmLnBhdXNlKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ0Nsb3NlJywgZmFsc2UpOwogICAgfSwKICAgIC8vIOaLluaLveWbvueJh+S6i+S7tgogICAgbW92ZUltZzogZnVuY3Rpb24gbW92ZUltZyhlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8g6I635Y+W5YWD57SgCgogICAgICB2YXIgaW1nV3JhcCA9IHRoaXMuJHJlZnMuaW1nV3JhcDsKICAgICAgdmFyIGltZyA9IHRoaXMuJHJlZnMuaW1nOwogICAgICB2YXIgeCA9IGUucGFnZVggLSBpbWcub2Zmc2V0TGVmdDsKICAgICAgdmFyIHkgPSBlLnBhZ2VZIC0gaW1nLm9mZnNldFRvcDsgLy8g5re75Yqg6byg5qCH56e75Yqo5LqL5Lu2CgogICAgICBpbWdXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdmUpOwoKICAgICAgZnVuY3Rpb24gbW92ZShlKSB7CiAgICAgICAgaW1nLnN0eWxlLmxlZnQgPSBlLnBhZ2VYIC0geCArICdweCc7CiAgICAgICAgaW1nLnN0eWxlLnRvcCA9IGUucGFnZVkgLSB5ICsgJ3B4JzsKICAgICAgfSAvLyDmt7vliqDpvKDmoIfmiqzotbfkuovku7bvvIzpvKDmoIfmiqzotbfvvIzlsIbkuovku7bnp7vpmaQKCgogICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBpbWdXcmFwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdmUpOwogICAgICB9KTsgLy8g6byg5qCH56a75byA54i257qn5YWD57Sg77yM5oqK5LqL5Lu256e76ZmkCgogICAgICBpbWdXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkgewogICAgICAgIGltZ1dyYXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW92ZSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOm8oOagh+a7muWKqOe8qeaUvuWbvueJh+S6i+S7tgogICAgcm9sbEltZzogZnVuY3Rpb24gcm9sbEltZyhldmVudCkgewogICAgICAvKiDojrflj5blvZPliY3pobXpnaLnmoTnvKnmlL7mr5Qg6Iul5pyq6K6+572uem9vbee8qeaUvuavlO+8jOWImeS4uum7mOiupDEwMCXvvIzljbMx77yM5Y6f5Zu+5aSn5bCPICovCiAgICAgIHZhciB6b29tID0gcGFyc2VJbnQodGhpcy4kcmVmcy5pbWcuc3R5bGUuem9vbSkgfHwgMTAwOwogICAgICAvKiBldmVudC53aGVlbERlbHRhIOiOt+WPlua7mui9rua7muWKqOWAvOW5tuWwhua7muWKqOWAvOWPoOWKoOe7mee8qeaUvuavlHpvb20gd2hlZWxEZWx0Yee7n+S4gOS4usKxMTIw77yM5YW25Lit5q2j5pWw6KGo56S65Li65ZCR5LiK5rua5Yqo77yM6LSf5pWw6KGo56S65ZCR5LiL5rua5YqoICovCgogICAgICB6b29tICs9IGV2ZW50LndoZWVsRGVsdGEgLyAxMjsKICAgICAgLyog5pyA5bCP6IyD5Zu0IOWSjCDmnIDlpKfojIPlm7Qg55qE5Zu+54mH57yp5pS+5bC65bqmICovCgogICAgICBpZiAoem9vbSA+PSA0MCAmJiB6b29tIDwgNTAwKSB7CiAgICAgICAgdGhpcy4kcmVmcy5pbWcuc3R5bGUuem9vbSA9IHpvb20gKyAnJSc7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eA8DA;AACAA,oCADA;AAEAC,MAFA,kBAEA;AACA;AACAC,kBADA;AAEAC,mBAFA;AAGAC,mBAHA;AAGA;AACAC,qBAJA;AAIA;AACAC,iBALA;AAKA;AACAC,wBANA,CAMA;;AANA;AAQA,GAXA;AAYAC,SAZA,qBAYA;AACA,oCADA,CACA;;AACA,uCAFA,CAEA;AACA,GAfA;AAgBAC,SAhBA,qBAgBA;AAAA;;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAPA,CAQA;;;AACA;AACA;AACA;;AACA;AACA;AACA,KAdA,CAeA;AAEA;;;AACA;AACA;AACA;AACA;AACA,KAJA;AAKA,GAvCA;AAyCAC,cAzCA,0BAyCA;AAAA;;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;;AACA;AACA,wDADA,CAEA;;AACA;AACA;AACA,6CALA,CAMA;AAEA,KARA;AASA,GAxDA;AAyDAC;AACA;AACAC,kBAFA,4BAEA;AACA;AACAC;AACAA;AACA,KANA;AAQA;AACAC,iBATA,2BASA;AACA;AACAD;AACAA;AACA,KAbA;AAeA;AACAE,yBAhBA,mCAgBA;AACA;AACAF;AACAA;AACA,KApBA;AAsBA;AACAG,eAvBA,yBAuBA;AACA;AACA;AACA;AACA;AACA,KA5BA;AA8BA;AACAC,mBA/BA,6BA+BA;AACA;AACA;AACA;AACA;AACA,KApCA;AAsCA;AACAC,gBAvCA,0BAuCA;AACA;AACA;AACA;AACA;;AACA;AACA,KA7CA;AA+CA;AACAC,WAhDA,mBAgDAC,CAhDA,EAgDA;AACAA,yBADA,CAEA;;AACA;AACA;AACA;AACA,sCANA,CAOA;;AACAC;;AACA;AACAC;AACAA;AACA,OAZA,CAaA;;;AACAA;AACAD;AACA,OAFA,EAdA,CAiBA;;AACAA;AACAA;AACA,OAFA;AAGA,KArEA;AAuEA;AACAE,WAxEA,mBAwEAC,KAxEA,EAwEA;AACA;AACA;AACA;;AACAC;AACA;;AACA;AACA;AACA;;AACA;AACA;AAlFA;AAzDA,C","names":["props","data","EleWidth","EleHeight","TragetObj","FilePresAll","NumIndex","loadingFlag","created","mounted","beforeUpdate","methods","onClickEnlarge","Target","onClickNarrow","onClickReturnOriginal","onClickNext","onCLickPrevious","onClickClose","moveImg","e","imgWrap","img","rollImg","event","zoom"],"sourceRoot":"src/views/components","sources":["FilePreview.vue"],"sourcesContent":["<template>\r\n  <!-- 预览组件 -->\r\n  <div class=\"FilePreview\">\r\n    <div class=\"container\">\r\n      <!-- 渲染层 -->\r\n      <div class=\"object\" v-if=\"TragetObj.format == 'jpg' || TragetObj.format == 'png' || TragetObj.format == 'JPG' || TragetObj.format == 'PNG' || TragetObj.format == 'jpeg'|| TragetObj.format == 'tiff'|| TragetObj.format == 'swf'|| TragetObj.format == 'gif'|| TragetObj.format == 'JPEG'|| TragetObj.format == 'GIF'\"\r\n        ref=\"imgWrap\" @mousewheel.prevent=\"rollImg\">   \r\n          <img class=\"Target modal-img\" ref=\"img\" @mousedown=\"moveImg\" :src=\"TragetObj.url\" alt=\"\" >\r\n      </div>\r\n      <!-- 视频 -->\r\n      <div class=\"object\" v-else-if=\"TragetObj.format == 'webm' || TragetObj.format == 'mov' || TragetObj.format == 'mp4'\">\r\n        <video class=\"Target\" controls=\"controls\" width=\"1200\" height=\"700\" :src=\"TragetObj.url\" autoplay ref=\"videoref\" >\r\n          您的浏览器不支持。\r\n        </video>\r\n      </div>\r\n      <!-- 附件 -->\r\n      <div class=\"object\" v-else>\r\n        <iframe class=\"Target\" frameborder=\"1\" index-render=\"1\" scrolling=\"yes\" height=\"890.15\" width=\"1220.4\" :src=\"TragetObj.url\"></iframe>\r\n      </div>\r\n      <!-- 操作按钮 -->\r\n      <div class=\"viewer_btn\">\r\n        <ul>\r\n          <li @click=\"onClickEnlarge\">\r\n            <i class=\"el-icon-zoom-in\"></i>\r\n          </li>\r\n          <li @click=\"onClickNarrow\">\r\n            <i class=\"el-icon-zoom-out\"></i>\r\n          </li>\r\n          <li @click=\"onClickReturnOriginal\">\r\n            <i class=\"el-icon-c-scale-to-original\"></i>\r\n          </li>\r\n          <!-- 下载 -->\r\n          <li v-if=\"TragetObj.downUrl\">\r\n            <a :href=\"TragetObj.downUrl\">\r\n              <i class=\"el-icon-download\"></i>\r\n            </a>\r\n          </li>\r\n            <!-- <li>\r\n              <i class=\"el-icon-full-screen\"></i>\r\n          </li> -->\r\n        </ul>\r\n      </div>\r\n      <!--下一个 -->\r\n      <div class=\"next\" v-if=\"NumIndex < this.FilePresAll.length - 1\"  @click=\"onClickNext\">\r\n        <i class=\"el-icon-arrow-right\"></i>\r\n      </div>\r\n      <!-- 上一个 -->\r\n      <div class=\"previous\" v-if=\"NumIndex != 0\" @click=\"onCLickPrevious\">\r\n        <i class=\"el-icon-arrow-left\"></i>\r\n      </div>\r\n      <!-- 关闭按钮 -->\r\n      <div class=\"close\" @click=\"onClickClose\">\r\n        <i class=\"el-icon-close\"></i>\r\n      </div>\r\n    </div>\r\n    <div class=\"viewer__mask\" @click.stop=\"onClickClose\">\r\n      <div  v-loading=\"loadingFlag\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props:['TragetPic', 'FilePreAll'],\r\n    data(){\r\n      return{\r\n        EleWidth:\"\",\r\n        EleHeight:\"\", \r\n        TragetObj:{}, // 目标对象\r\n        FilePresAll:[], // 渲染数组\r\n        NumIndex:0, // 当前渲染目标的下标\r\n        loadingFlag:false, // 加载\r\n      }\r\n    },\r\n    created(){\r\n      this.TragetObj = this.TragetPic // 目标对象\r\n      this.FilePresAll = this.FilePreAll // 渲染数组\r\n    },\r\n    mounted () {\r\n      if(this.EleWidth == \"\"){\r\n        if(this.TragetObj.format != 'jpg' && this.TragetObj.format != 'png' && this.TragetObj.format != 'JPG' && this.TragetObj.format != 'PNG' && this.TragetObj.format != 'jpeg' && this.TragetObj.format != 'tiff' && this.TragetObj.format != 'swf' && this.TragetObj.format != 'gif' && this.TragetObj.format != 'JPEG' && this.TragetObj.format != 'GIF'){\r\n          this.loadingFlag = true\r\n        }else{\r\n          this.loadingFlag = false\r\n        }\r\n      }\r\n      // 获取目标元素值\r\n      let  Target = document.getElementsByClassName(\"Target\")[0];\r\n      this.EleWidth = Target.offsetWidth\r\n      this.EleHeight = Target.offsetHeight\r\n      if(this.EleWidth != \"\"){\r\n        this.loadingFlag = false\r\n      }\r\n      // console.log(this.EleWidth)\r\n\r\n      // 获取当前目标的下标值\r\n      this.FilePresAll.forEach((item, index)=>{\r\n        if(item.FileName == this.TragetObj.FileName){\r\n          this.NumIndex = index\r\n        }\r\n      })\r\n    },\r\n\r\n    beforeUpdate () {\r\n      if(this.TragetObj.format != 'jpg' && this.TragetObj.format != 'png' && this.TragetObj.format != 'JPG' && this.TragetObj.format != 'PNG' && this.TragetObj.format != 'jpeg' && this.TragetObj.format != 'tiff' && this.TragetObj.format != 'swf' && this.TragetObj.format != 'gif' && this.TragetObj.format != 'JPEG' && this.TragetObj.format != 'GIF'){\r\n        this.loadingFlag = true\r\n      }else{\r\n        this.loadingFlag = false\r\n      }\r\n      this.$nextTick(()=>{\r\n        let eleParent = document.querySelector('.object')\r\n        // 获取目标元素值\r\n        let Target = eleParent.children[0]\r\n        this.EleWidth = Target.offsetWidth\r\n        this.EleHeight = Target.offsetHeight\r\n        // console.log(Target)\r\n          \r\n      })\r\n    },\r\n    methods:{\r\n      // 放大功能\r\n      onClickEnlarge(){\r\n        let Target=document.getElementsByClassName(\"Target\")[0];\r\n        Target.style.height=Target.height*1.1+'px';\r\n        Target.style.width=Target.width*1.1+'px';\r\n      },\r\n\r\n      // 缩小功能\r\n      onClickNarrow(){\r\n        let Target=document.getElementsByClassName(\"Target\")[0];\r\n        Target.style.height=Target.height/1.1+'px';\r\n        Target.style.width=Target.width/1.1+'px';\r\n      },\r\n\r\n      // 返回原图大小\r\n      onClickReturnOriginal(){\r\n        let Target=document.getElementsByClassName(\"Target\")[0];\r\n        Target.style.height=this.EleHeight+'px';\r\n        Target.style.width=this.EleWidth +'px';\r\n      },\r\n\r\n      // 点击下一个事件\r\n      onClickNext(){\r\n        if(this.NumIndex < this.FilePresAll.length - 1){\r\n          this.NumIndex++\r\n          this.TragetObj = this.FilePresAll[this.NumIndex]\r\n        }\r\n      },\r\n\r\n      // 点击上一个事件\r\n      onCLickPrevious(){\r\n        if(this.NumIndex != 0){\r\n          this.NumIndex--\r\n          this.TragetObj = this.FilePresAll[this.NumIndex]\r\n        }\r\n      },\r\n\r\n      // 关闭按钮\r\n      onClickClose(){\r\n        // 关闭视频声音\r\n        if(this.$refs.videoref != undefined){\r\n          this.$refs.videoref.pause()\r\n        }\r\n        this.$emit('Close', false)\r\n      },\r\n\r\n      // 拖拽图片事件\r\n      moveImg (e) {\r\n        e.preventDefault()\r\n        // 获取元素\r\n        let imgWrap = this.$refs.imgWrap\r\n        let img = this.$refs.img\r\n        let x = e.pageX - img.offsetLeft\r\n        let y = e.pageY - img.offsetTop\r\n        // 添加鼠标移动事件\r\n        imgWrap.addEventListener('mousemove', move)\r\n        function move (e) {\r\n          img.style.left = e.pageX - x + 'px'\r\n          img.style.top = e.pageY - y + 'px'\r\n        }\r\n        // 添加鼠标抬起事件，鼠标抬起，将事件移除\r\n        img.addEventListener('mouseup', () => {\r\n          imgWrap.removeEventListener('mousemove', move)\r\n        })\r\n        // 鼠标离开父级元素，把事件移除\r\n        imgWrap.addEventListener('mouseout', () => {\r\n          imgWrap.removeEventListener('mousemove', move)\r\n        })\r\n      },\r\n\r\n      // 鼠标滚动缩放图片事件\r\n      rollImg (event) {\r\n        /* 获取当前页面的缩放比 若未设置zoom缩放比，则为默认100%，即1，原图大小 */\r\n        let zoom = parseInt(this.$refs.img.style.zoom) || 100\r\n        /* event.wheelDelta 获取滚轮滚动值并将滚动值叠加给缩放比zoom wheelDelta统一为±120，其中正数表示为向上滚动，负数表示向下滚动 */\r\n        zoom += event.wheelDelta / 12\r\n        /* 最小范围 和 最大范围 的图片缩放尺度 */\r\n        if (zoom >= 40 && zoom < 500) {\r\n            this.$refs.img.style.zoom = zoom + '%'\r\n        }\r\n        return false\r\n      },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.FilePreview{\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 8888;\r\n  height: 100%;\r\n  width: 100%;\r\n  .container{\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items:center;/*由于flex-direction: column，因此align-items代表的是水平方向*/\r\n    justify-content: center;/*由于flex-direction: column，因此justify-content代表的是垂直方向*/\r\n    position: relative;\r\n    left: 0;\r\n    top: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    .object{\r\n      z-index: 10001;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items:center;/*由于flex-direction: column，因此align-items代表的是水平方向*/\r\n      justify-content: center;/*由于flex-direction: column，因此justify-content代表的是垂直方向*/\r\n      margin: 25px;\r\n      .modal-img {\r\n          position: absolute;\r\n          left: 50%;\r\n          top: 50%;\r\n          transform: translate(-50%, -50%);\r\n          max-width: 100%;\r\n          cursor: move;\r\n          &-wrap {\r\n          position: relative;\r\n          width: 960px;\r\n          height: 560px;\r\n          overflow: hidden;\r\n        }\r\n      }\r\n    }\r\n    .viewer_btn{\r\n      position: absolute;\r\n      left: 50%;\r\n      bottom: 20px;\r\n      z-index: 10020;\r\n      -webkit-transform: translateX(-50%);\r\n      transform: translateX(-50%);\r\n      // width: 250px;\r\n      height: 44px;\r\n      padding: 0 23px;\r\n      background-color: #606266;\r\n      border-color: #fff;\r\n      border-radius: 22px;\r\n      ul{\r\n        padding: 0;\r\n        margin: 0;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        li{\r\n          font-size: 30px;\r\n          color: #fff;\r\n          padding: 6px 10px;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n    .next{\r\n      position: absolute;\r\n      top: 50%;\r\n      right: 15px;\r\n      z-index: 10020;\r\n      font-size: 30px; \r\n      height: 44px;\r\n      width: 44px;\r\n      line-height: 44px;\r\n      text-align: center;\r\n      background: #606266;\r\n      color: #fff;\r\n      border-radius: 50%;\r\n      cursor: pointer;\r\n    }\r\n    .previous{\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 15px;\r\n      z-index: 10020;\r\n      font-size: 30px;\r\n      height: 44px;\r\n      width: 44px;\r\n      line-height: 44px;\r\n      text-align: center;\r\n      background: #606266;\r\n      color: #fff;\r\n      border-radius: 50%;\r\n      cursor: pointer; \r\n    }\r\n    .close{\r\n      position: absolute;\r\n      top: 15px;\r\n      right: 15px;\r\n      z-index: 10020;\r\n      font-size: 30px;\r\n      cursor: pointer;\r\n      background: #606266;\r\n      border-radius: 50%;\r\n      width: 44px;\r\n      height: 44px;\r\n      line-height: 44px;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .viewer__mask{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.9);\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 8888;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items:center;/*由于flex-direction: column，因此align-items代表的是水平方向*/\r\n    justify-content: center;/*由于flex-direction: column，因此justify-content代表的是垂直方向*/\r\n  }\r\n}\r\n</style>\r\n<style>\r\n/* 关闭图标 */\r\n.FilePreview .el-icon-close{   \r\n  color: #fff;\r\n}\r\n</style>\r\n"]}]}