{"remainingRequest":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\preview.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\preview.vue","mtime":1649837885826},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\babel.config.js","mtime":1648542802000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9sbWwvRGVza3RvcC9cdTgyN0VcdTY1ODdcdTY2NkUvXHU1RTk0XHU2MDI1XHU0RThCXHU2NTQ1XHU2QzYwXHU2NTg3XHU2ODYzL0NBVC9DQVQvY29kZS9mcm9udGVuZC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF92dWVzaG93cGRmID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ2dWVzaG93cGRmIikpOwoKdmFyIF9heGlvcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiYXhpb3MiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgZG9jeCA9IHJlcXVpcmUoImRvY3gtcHJldmlldyIpOwoKdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJwcmV2aWV3IiwKICBjb21wb25lbnRzOiB7CiAgICB2dWVzaG93cGRmOiBfdnVlc2hvd3BkZi5kZWZhdWx0CiAgfSwKICBwcm9wczogWydzaG93RXh0JywgJ2ZpbGVVcmwnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy9GVFDot6/lvoQKICAgICAgLy9GVFDpooTop4jlr7nor53moYbmmK/lkKbmiZPlvIAKICAgICAgaXNzaG93cGRmOiBmYWxzZSwKICAgICAgaXNTaG93RmlsZVdvcmQ6IGZhbHNlLAogICAgICBvcGVuUmV2aWV3RGlhbG9nOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICB3YXRjaDogewogICAgc2hvd0V4dDogZnVuY3Rpb24gc2hvd0V4dCh2YWwpIHsKICAgICAgZGVidWdnZXI7CgogICAgICBpZiAodmFsID09ICdkb2N4JykgewogICAgICAgIHRoaXMuaXNTaG93RmlsZVdvcmQgPSB0cnVlOwogICAgICAgIHRoaXMuZ2V0UGRmQ29kZSgpOwogICAgICB9CgogICAgICBpZiAodmFsID09ICdwZGYnKSB7CiAgICAgICAgdGhpcy5pc3Nob3dwZGYgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WFs+mXrXBkZumihOiniAogICAgY2xvc2VwZGY6IGZ1bmN0aW9uIGNsb3NlcGRmKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZXBkZicpOwogICAgICB0aGlzLmlzc2hvd3BkZiA9IGZhbHNlOwogICAgfSwKICAgIC8vcGRm6aKE6KeI5Ye66ZSZCiAgICBwZGZlcnI6IGZ1bmN0aW9uIHBkZmVycihlcnJ1cmwpIHsKICAgICAgY29uc29sZS5sb2coZXJydXJsKTsKICAgIH0sCiAgICAvL+WKoOi9vXdvcmTpooTop4gKICAgIGdldFBkZkNvZGU6IGZ1bmN0aW9uIGdldFBkZkNvZGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkZWJ1Z2dlcjsKICAgICAgKDAsIF9heGlvcy5kZWZhdWx0KSh7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICByZXNwb25zZVR5cGU6ICJibG9iIiwKICAgICAgICB1cmw6IGZpbGVVcmwKICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgIGRvY3gucmVuZGVyQXN5bmMoZGF0YSwgX3RoaXMuJHJlZnMuZmlsZSk7IC8vIOa4suafk+WIsOmhtemdogogICAgICB9KTsKICAgIH0sCiAgICAvL+WvueivneahhuWFs+mXreS6i+S7tgogICAgZGlhbG9nQ2xvc2U6IGZ1bmN0aW9uIGRpYWxvZ0Nsb3NlKCkgewogICAgICB0aGlzLmlzU2hvd0ZpbGVXb3JkID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlcGRmJyk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;AA2BA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;eACA;AACAA,iBADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,+BAHA;AAIAC,MAJA,kBAIA;AACA;AACA;AACA;AACAC,sBAHA;AAIAC,2BAJA;AAKAC;AALA;AAOA,GAZA;AAaAC,SAbA,qBAaA,CACA,CAdA;AAeAC;AACAC,WADA,mBACAC,GADA,EACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAVA,GAfA;AA4BAC;AACA;AACAC,YAFA,sBAEA;AACA;AACA;AACA,KALA;AAMA;AACAC,UAPA,kBAOAC,MAPA,EAOA;AACAC;AACA,KATA;AAUA;AACAC,cAXA,wBAWA;AAAA;;AACA;AACA;AACAC,qBADA;AAEAC,4BAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AAAA;AACAC,iDADA,CACA;AACA,OANA;AAOA,KApBA;AAqBA;AACAC,eAtBA,yBAsBA;AACA;AACA;AACA;AAzBA;AA5BA,C","names":["name","components","vueshowpdf","props","data","isshowpdf","isShowFileWord","openReviewDialog","created","watch","showExt","val","methods","closepdf","pdferr","errurl","console","getPdfCode","method","responseType","url","then","docx","dialogClose"],"sourceRoot":"src/views/lib/file","sources":["preview.vue"],"sourcesContent":["<template>\r\n  <div >\r\n    <!--FTP预览对话框-->\r\n      <vueshowpdf\r\n        @closepdf=\"closepdf\"\r\n        v-model=\"isshowpdf\"\r\n        :pdfurl=\"fileUrl\"\r\n        @pdferr=\"pdferr\"\r\n        :maxscale=\"4\"\r\n        :minscale=\"0.6\"\r\n        :scale=\"1.0\"\r\n      >\r\n      </vueshowpdf>\r\n    <!--word文件预览-->\r\n    <el-dialog \r\n      @close=\"dialogClose\"\r\n      :visible.sync=\"isShowFileWord\"\r\n      width=\"60%\"\r\n      append-to-body\r\n    >\r\n        <div ref=\"file\"></div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport vueshowpdf from \"vueshowpdf\";\r\nimport Axios from \"axios\";\r\nlet docx = require(\"docx-preview\");\r\nexport default {\r\n  name: \"preview\",\r\n  components: { vueshowpdf },\r\n  props: ['showExt', 'fileUrl'],\r\n  data() {\r\n    return {\r\n      //FTP路径\r\n      //FTP预览对话框是否打开\r\n      isshowpdf: false,\r\n      isShowFileWord: false,\r\n      openReviewDialog: false,\r\n    };\r\n  },\r\n  created(){\r\n  },\r\nwatch: {\r\n  showExt (val) {\r\n    debugger\r\n    if (val == 'docx') {\r\n     this.isShowFileWord = true\r\n       this.getPdfCode();\r\n    }\r\n    if(val == 'pdf'){\r\n       this.isshowpdf = true;\r\n    }\r\n  }\r\n},\r\n\r\n  methods: {\r\n    //关闭pdf预览\r\n    closepdf() {\r\n      this.$emit('closepdf')\r\n      this.isshowpdf = false;\r\n    },\r\n    //pdf预览出错\r\n    pdferr(errurl) {\r\n      console.log(errurl);\r\n    },\r\n    //加载word预览\r\n    getPdfCode() {\r\n      debugger\r\n      Axios({\r\n        method: \"get\",\r\n        responseType: \"blob\",\r\n        url: fileUrl,\r\n      }).then(({ data }) => {\r\n        docx.renderAsync(data, this.$refs.file); // 渲染到页面\r\n      });\r\n    },\r\n    //对话框关闭事件\r\n    dialogClose(){\r\n      this.isShowFileWord = false;\r\n      this.$emit('closepdf')\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}