{"remainingRequest":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\tool\\build\\DraggableItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\tool\\build\\DraggableItem.vue","mtime":1648542802000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\babel.config.js","mtime":1648542802000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9sbWwvRGVza3RvcC9cdTgyN0VcdTY1ODdcdTY2NkUvXHU1RTk0XHU2MDI1XHU0RThCXHU2NTQ1XHU2QzYwXHU2NTg3XHU2ODYzL0NBVC9DQVQvY29kZS9mcm9udGVuZC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwoKdmFyIF92dWVkcmFnZ2FibGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInZ1ZWRyYWdnYWJsZSIpKTsKCnZhciBfcmVuZGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3V0aWxzL2dlbmVyYXRvci9yZW5kZXIiKSk7Cgp2YXIgY29tcG9uZW50cyA9IHsKICBpdGVtQnRuczogZnVuY3Rpb24gaXRlbUJ0bnMoaCwgZWxlbWVudCwgaW5kZXgsIHBhcmVudCkgewogICAgdmFyIF90aGlzJCRsaXN0ZW5lcnMgPSB0aGlzLiRsaXN0ZW5lcnMsCiAgICAgICAgY29weUl0ZW0gPSBfdGhpcyQkbGlzdGVuZXJzLmNvcHlJdGVtLAogICAgICAgIGRlbGV0ZUl0ZW0gPSBfdGhpcyQkbGlzdGVuZXJzLmRlbGV0ZUl0ZW07CiAgICByZXR1cm4gW2goInNwYW4iLCB7CiAgICAgICJjbGFzcyI6ICJkcmF3aW5nLWl0ZW0tY29weSIsCiAgICAgICJhdHRycyI6IHsKICAgICAgICAidGl0bGUiOiAi5aSN5Yi2IgogICAgICB9LAogICAgICAib24iOiB7CiAgICAgICAgImNsaWNrIjogZnVuY3Rpb24gY2xpY2soZXZlbnQpIHsKICAgICAgICAgIGNvcHlJdGVtKGVsZW1lbnQsIHBhcmVudCk7CiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIFtoKCJpIiwgewogICAgICAiY2xhc3MiOiAiZWwtaWNvbi1jb3B5LWRvY3VtZW50IgogICAgfSldKSwgaCgic3BhbiIsIHsKICAgICAgImNsYXNzIjogImRyYXdpbmctaXRlbS1kZWxldGUiLAogICAgICAiYXR0cnMiOiB7CiAgICAgICAgInRpdGxlIjogIuWIoOmZpCIKICAgICAgfSwKICAgICAgIm9uIjogewogICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKGV2ZW50KSB7CiAgICAgICAgICBkZWxldGVJdGVtKGluZGV4LCBwYXJlbnQpOwogICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBbaCgiaSIsIHsKICAgICAgImNsYXNzIjogImVsLWljb24tZGVsZXRlIgogICAgfSldKV07CiAgfQp9Owp2YXIgbGF5b3V0cyA9IHsKICBjb2xGb3JtSXRlbTogZnVuY3Rpb24gY29sRm9ybUl0ZW0oaCwgZWxlbWVudCwgaW5kZXgsIHBhcmVudCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgYWN0aXZlSXRlbSA9IHRoaXMuJGxpc3RlbmVycy5hY3RpdmVJdGVtOwogICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMuYWN0aXZlSWQgPT09IGVsZW1lbnQuZm9ybUlkID8gJ2RyYXdpbmctaXRlbSBhY3RpdmUtZnJvbS1pdGVtJyA6ICdkcmF3aW5nLWl0ZW0nOwogICAgaWYgKHRoaXMuZm9ybUNvbmYudW5Gb2N1c2VkQ29tcG9uZW50Qm9yZGVyKSBjbGFzc05hbWUgKz0gJyB1bmZvY3VzLWJvcmRlcmVkJzsKICAgIHJldHVybiBoKCJlbC1jb2wiLCB7CiAgICAgICJhdHRycyI6IHsKICAgICAgICAic3BhbiI6IGVsZW1lbnQuc3BhbgogICAgICB9LAogICAgICAiY2xhc3MiOiBjbGFzc05hbWUsCiAgICAgICJuYXRpdmVPbiI6IHsKICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljayhldmVudCkgewogICAgICAgICAgYWN0aXZlSXRlbShlbGVtZW50KTsKICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgW2goImVsLWZvcm0taXRlbSIsIHsKICAgICAgImF0dHJzIjogewogICAgICAgICJsYWJlbC13aWR0aCI6IGVsZW1lbnQubGFiZWxXaWR0aCA/ICIiLmNvbmNhdChlbGVtZW50LmxhYmVsV2lkdGgsICJweCIpIDogbnVsbCwKICAgICAgICAibGFiZWwiOiBlbGVtZW50LmxhYmVsLAogICAgICAgICJyZXF1aXJlZCI6IGVsZW1lbnQucmVxdWlyZWQKICAgICAgfQogICAgfSwgW2goX3JlbmRlci5kZWZhdWx0LCB7CiAgICAgICJrZXkiOiBlbGVtZW50LnJlbmRlcktleSwKICAgICAgImF0dHJzIjogewogICAgICAgICJjb25mIjogZWxlbWVudAogICAgICB9LAogICAgICAib24iOiB7CiAgICAgICAgImlucHV0IjogZnVuY3Rpb24gaW5wdXQoZXZlbnQpIHsKICAgICAgICAgIF90aGlzLiRzZXQoZWxlbWVudCwgJ2RlZmF1bHRWYWx1ZScsIGV2ZW50KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pXSksIGNvbXBvbmVudHMuaXRlbUJ0bnMuYXBwbHkodGhpcywgYXJndW1lbnRzKV0pOwogIH0sCiAgcm93Rm9ybUl0ZW06IGZ1bmN0aW9uIHJvd0Zvcm1JdGVtKGgsIGVsZW1lbnQsIGluZGV4LCBwYXJlbnQpIHsKICAgIHZhciBhY3RpdmVJdGVtID0gdGhpcy4kbGlzdGVuZXJzLmFjdGl2ZUl0ZW07CiAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5hY3RpdmVJZCA9PT0gZWxlbWVudC5mb3JtSWQgPyAnZHJhd2luZy1yb3ctaXRlbSBhY3RpdmUtZnJvbS1pdGVtJyA6ICdkcmF3aW5nLXJvdy1pdGVtJzsKICAgIHZhciBjaGlsZCA9IHJlbmRlckNoaWxkcmVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgogICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2ZsZXgnKSB7CiAgICAgIGNoaWxkID0gaCgiZWwtcm93IiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJ0eXBlIjogZWxlbWVudC50eXBlLAogICAgICAgICAgImp1c3RpZnkiOiBlbGVtZW50Lmp1c3RpZnksCiAgICAgICAgICAiYWxpZ24iOiBlbGVtZW50LmFsaWduCiAgICAgICAgfQogICAgICB9LCBbY2hpbGRdKTsKICAgIH0KCiAgICByZXR1cm4gaCgiZWwtY29sIiwgewogICAgICAiYXR0cnMiOiB7CiAgICAgICAgInNwYW4iOiBlbGVtZW50LnNwYW4KICAgICAgfQogICAgfSwgW2goImVsLXJvdyIsIHsKICAgICAgImF0dHJzIjogewogICAgICAgICJndXR0ZXIiOiBlbGVtZW50Lmd1dHRlcgogICAgICB9LAogICAgICAiY2xhc3MiOiBjbGFzc05hbWUsCiAgICAgICJuYXRpdmVPbiI6IHsKICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljayhldmVudCkgewogICAgICAgICAgYWN0aXZlSXRlbShlbGVtZW50KTsKICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgW2goInNwYW4iLCB7CiAgICAgICJjbGFzcyI6ICJjb21wb25lbnQtbmFtZSIKICAgIH0sIFtlbGVtZW50LmNvbXBvbmVudE5hbWVdKSwgaChfdnVlZHJhZ2dhYmxlLmRlZmF1bHQsIHsKICAgICAgImF0dHJzIjogewogICAgICAgICJsaXN0IjogZWxlbWVudC5jaGlsZHJlbiwKICAgICAgICAiYW5pbWF0aW9uIjogMzQwLAogICAgICAgICJncm91cCI6ICJjb21wb25lbnRzR3JvdXAiCiAgICAgIH0sCiAgICAgICJjbGFzcyI6ICJkcmFnLXdyYXBwZXIiCiAgICB9LCBbY2hpbGRdKSwgY29tcG9uZW50cy5pdGVtQnRucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXSldKTsKICB9Cn07CgpmdW5jdGlvbiByZW5kZXJDaGlsZHJlbihoLCBlbGVtZW50LCBpbmRleCwgcGFyZW50KSB7CiAgdmFyIF90aGlzMiA9IHRoaXM7CgogIGlmICghQXJyYXkuaXNBcnJheShlbGVtZW50LmNoaWxkcmVuKSkgcmV0dXJuIG51bGw7CiAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChlbCwgaSkgewogICAgdmFyIGxheW91dCA9IGxheW91dHNbZWwubGF5b3V0XTsKCiAgICBpZiAobGF5b3V0KSB7CiAgICAgIHJldHVybiBsYXlvdXQuY2FsbChfdGhpczIsIGgsIGVsLCBpLCBlbGVtZW50LmNoaWxkcmVuKTsKICAgIH0KCiAgICByZXR1cm4gbGF5b3V0SXNOb3RGb3VuZCgpOwogIH0pOwp9CgpmdW5jdGlvbiBsYXlvdXRJc05vdEZvdW5kKCkgewogIHRocm93IG5ldyBFcnJvcigiXHU2Q0ExXHU2NzA5XHU0RTBFIi5jb25jYXQodGhpcy5lbGVtZW50LmxheW91dCwgIlx1NTMzOVx1OTE0RFx1NzY4NGxheW91dCIpKTsKfQoKdmFyIF9kZWZhdWx0ID0gewogIGNvbXBvbmVudHM6IHsKICAgIHJlbmRlcjogX3JlbmRlci5kZWZhdWx0LAogICAgZHJhZ2dhYmxlOiBfdnVlZHJhZ2dhYmxlLmRlZmF1bHQKICB9LAogIHByb3BzOiBbJ2VsZW1lbnQnLCAnaW5kZXgnLCAnZHJhd2luZ0xpc3QnLCAnYWN0aXZlSWQnLCAnZm9ybUNvbmYnXSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICB2YXIgbGF5b3V0ID0gbGF5b3V0c1t0aGlzLmVsZW1lbnQubGF5b3V0XTsKCiAgICBpZiAobGF5b3V0KSB7CiAgICAgIHJldHVybiBsYXlvdXQuY2FsbCh0aGlzLCBoLCB0aGlzLmVsZW1lbnQsIHRoaXMuaW5kZXgsIHRoaXMuZHJhd2luZ0xpc3QpOwogICAgfQoKICAgIHJldHVybiBsYXlvdXRJc05vdEZvdW5kKCk7CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;;AACA;;AACA;;AAEA;AACAA,UADA,oBACAC,CADA,EACAC,OADA,EACAC,KADA,EACAC,MADA,EACA;AACA;AAAA;AAAA;AACA;AAAA,eACA,mBADA;AAAA;AAAA,iBACA;AADA;AAAA;AAAA,iBACA;AACAC;AAAAC;AACA;AAHA;AAAA;AAAA,eAIA;AAJA;AAAA,eAMA,qBANA;AAAA;AAAA,iBAMA;AANA;AAAA;AAAA,iBAMA;AACAC;AAAAD;AACA;AARA;AAAA;AAAA,eASA;AATA;AAYA;AAfA;AAiBA;AACAE,aADA,uBACAP,CADA,EACAC,OADA,EACAC,KADA,EACAC,MADA,EACA;AAAA;;AACA;AACA;AACA;AACA;AAAA;AAAA,gBACAF;AADA;AAAA,eACAO,SADA;AAAA;AAAA,iBAEA;AAAAC;AAAAJ;AAAA;AAFA;AAAA;AAAA;AAAA,uBAGAJ,+DAHA;AAAA,iBAIAA,aAJA;AAAA,oBAIAA;AAJA;AAAA;AAAA,aAKAA,iBALA;AAAA;AAAA,gBAKAA;AALA;AAAA;AAAA,iBAKA;AACA;AACA;AAPA;AAAA,UASAS,0CATA;AAYA,GAjBA;AAkBAC,aAlBA,uBAkBAX,CAlBA,EAkBAC,OAlBA,EAkBAC,KAlBA,EAkBAC,MAlBA,EAkBA;AACA;AACA;AACA;;AACA;AACAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACAA,KADA;AAGA;;AACA;AAAA;AAAA,gBACAX;AADA;AAAA;AAAA;AAAA,kBAEAA;AAFA;AAAA,eAEAO,SAFA;AAAA;AAAA,iBAGA;AAAAC;AAAAJ;AAAA;AAHA;AAAA;AAAA,eAIA;AAJA,QAIAJ,qBAJA;AAAA;AAAA,gBAKAA,gBALA;AAAA,qBAKA,GALA;AAAA,iBAKA;AALA;AAAA,eAKA;AALA,QAMAW,KANA,IAQAF,0CARA;AAYA;AAvCA;;AA0CA;AAAA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA,GANA;AAOA;;AAEA;AACA;AACA;;eAEA;AACAA;AACAG,2BADA;AAEAC;AAFA,GADA;AAKAC,UACA,SADA,EAEA,OAFA,EAGA,aAHA,EAIA,UAJA,EAKA,UALA,CALA;AAYAF,QAZA,kBAYAb,CAZA,EAYA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AAnBA,C","names":["itemBtns","h","element","index","parent","copyItem","event","deleteItem","colFormItem","className","activeItem","components","rowFormItem","child","render","draggable","props"],"sourceRoot":"src/views/tool/build","sources":["DraggableItem.vue"],"sourcesContent":["<script>\nimport draggable from 'vuedraggable'\nimport render from '@/utils/generator/render'\n\nconst components = {\n  itemBtns(h, element, index, parent) {\n    const { copyItem, deleteItem } = this.$listeners\n    return [\n      <span class=\"drawing-item-copy\" title=\"复制\" onClick={event => {\n        copyItem(element, parent); event.stopPropagation()\n      }}>\n        <i class=\"el-icon-copy-document\" />\n      </span>,\n      <span class=\"drawing-item-delete\" title=\"删除\" onClick={event => {\n        deleteItem(index, parent); event.stopPropagation()\n      }}>\n        <i class=\"el-icon-delete\" />\n      </span>\n    ]\n  }\n}\nconst layouts = {\n  colFormItem(h, element, index, parent) {\n    const { activeItem } = this.$listeners\n    let className = this.activeId === element.formId ? 'drawing-item active-from-item' : 'drawing-item'\n    if (this.formConf.unFocusedComponentBorder) className += ' unfocus-bordered'\n    return (\n      <el-col span={element.span} class={className}\n        nativeOnClick={event => { activeItem(element); event.stopPropagation() }}>\n        <el-form-item label-width={element.labelWidth ? `${element.labelWidth}px` : null}\n          label={element.label} required={element.required}>\n          <render key={element.renderKey} conf={element} onInput={ event => {\n            this.$set(element, 'defaultValue', event)\n          }} />\n        </el-form-item>\n        {components.itemBtns.apply(this, arguments)}\n      </el-col>\n    )\n  },\n  rowFormItem(h, element, index, parent) {\n    const { activeItem } = this.$listeners\n    const className = this.activeId === element.formId ? 'drawing-row-item active-from-item' : 'drawing-row-item'\n    let child = renderChildren.apply(this, arguments)\n    if (element.type === 'flex') {\n      child = <el-row type={element.type} justify={element.justify} align={element.align}>\n              {child}\n            </el-row>\n    }\n    return (\n      <el-col span={element.span}>\n        <el-row gutter={element.gutter} class={className}\n          nativeOnClick={event => { activeItem(element); event.stopPropagation() }}>\n          <span class=\"component-name\">{element.componentName}</span>\n          <draggable list={element.children} animation={340} group=\"componentsGroup\" class=\"drag-wrapper\">\n            {child}\n          </draggable>\n          {components.itemBtns.apply(this, arguments)}\n        </el-row>\n      </el-col>\n    )\n  }\n}\n\nfunction renderChildren(h, element, index, parent) {\n  if (!Array.isArray(element.children)) return null\n  return element.children.map((el, i) => {\n    const layout = layouts[el.layout]\n    if (layout) {\n      return layout.call(this, h, el, i, element.children)\n    }\n    return layoutIsNotFound()\n  })\n}\n\nfunction layoutIsNotFound() {\n  throw new Error(`没有与${this.element.layout}匹配的layout`)\n}\n\nexport default {\n  components: {\n    render,\n    draggable\n  },\n  props: [\n    'element',\n    'index',\n    'drawingList',\n    'activeId',\n    'formConf'\n  ],\n  render(h) {\n    const layout = layouts[this.element.layout]\n\n    if (layout) {\n      return layout.call(this, h, this.element, this.index, this.drawingList)\n    }\n    return layoutIsNotFound()\n  }\n}\n</script>\n"]}]}