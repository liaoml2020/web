{"remainingRequest":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\preview.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\preview.vue","mtime":1649835005711},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\babel.config.js","mtime":1648542802000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9sbWwvRGVza3RvcC9cdTgyN0VcdTY1ODdcdTY2NkUvXHU1RTk0XHU2MDI1XHU0RThCXHU2NTQ1XHU2QzYwXHU2NTg3XHU2ODYzL0NBVC9DQVQvY29kZS9mcm9udGVuZC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF92dWVzaG93cGRmID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ2dWVzaG93cGRmIikpOwoKdmFyIF9heGlvcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiYXhpb3MiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgZG9jeCA9IHJlcXVpcmUoImRvY3gtcHJldmlldyIpOwoKdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJwcmV2aWV3IiwKICBjb21wb25lbnRzOiB7CiAgICB2dWVzaG93cGRmOiBfdnVlc2hvd3BkZi5kZWZhdWx0CiAgfSwKICBwcm9wczogWyJzaG93RXh0IiwgImZpbGVVcmwiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy9GVFDot6/lvoQKICAgICAgLy9GVFDpooTop4jlr7nor53moYbmmK/lkKbmiZPlvIAKICAgICAgaXNzaG93cGRmOiBmYWxzZSwKICAgICAgaXNTaG93RmlsZVdvcmQ6IGZhbHNlLAogICAgICBvcGVuUmV2aWV3RGlhbG9nOiBmYWxzZSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgd29ya2Jvb2s6IHt9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucmVhZFdvcmtib29rRnJvbVJlbW90ZUZpbGUodGhpcy5leGNlbFVSTCk7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgZGVidWdnZXI7CgogICAgaWYgKHRoaXMuc2hvd0V4dCA9PSAicGRmIikgewogICAgICB0aGlzLmlzc2hvd3BkZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKHRoaXMuc2hvd0V4dCA9PSAiZG9jIikgewogICAgICB0aGlzLmlzU2hvd0ZpbGVXb3JkID0gdHJ1ZTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5YWz6ZetcGRm6aKE6KeICiAgICBjbG9zZXBkZjogZnVuY3Rpb24gY2xvc2VwZGYoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlcGRmIik7CiAgICAgIHRoaXMuaXNzaG93cGRmID0gZmFsc2U7CiAgICB9LAogICAgLy9wZGbpooTop4jlh7rplJkKICAgIHBkZmVycjogZnVuY3Rpb24gcGRmZXJyKGVycnVybCkgewogICAgICBjb25zb2xlLmxvZyhlcnJ1cmwpOwogICAgfSwKICAgIC8v5Yqg6L29d29yZOmihOiniAogICAgZ2V0UGRmQ29kZTogZnVuY3Rpb24gZ2V0UGRmQ29kZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICgwLCBfYXhpb3MuZGVmYXVsdCkoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgcmVzcG9uc2VUeXBlOiAiYmxvYiIsCiAgICAgICAgdXJsOiBmaWxlVXJsCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBkb2N4LnJlbmRlckFzeW5jKGRhdGEsIF90aGlzLiRyZWZzLmZpbGUpOyAvLyDmuLLmn5PliLDpobXpnaIKICAgICAgfSk7CiAgICB9LAogICAgLy/lr7nor53moYblhbPpl63kuovku7YKICAgIGRpYWxvZ0Nsb3NlOiBmdW5jdGlvbiBkaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy5pc1Nob3dGaWxlV29yZCA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCJjbG9zZXBkZiIpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;;;AA4BA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;eACA;AACAA,iBADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,+BAHA;AAIAC,MAJA,kBAIA;AACA;AACA;AACA;AACAC,sBAHA;AAIAC,2BAJA;AAKAC,6BALA;AAMAC,mBANA;AAOAC;AAPA;AASA,GAdA;AAeAC,SAfA,qBAeA;AACA;AACA,GAjBA;AAkBAC,SAlBA,qBAkBA;AACA;;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA,GAzBA;AA2BAC;AACA;AACAC,YAFA,sBAEA;AACA;AACA;AACA,KALA;AAMA;AACAC,UAPA,kBAOAC,MAPA,EAOA;AACAC;AACA,KATA;AAUA;AACAC,cAXA,wBAWA;AAAA;;AACA;AACAC,qBADA;AAEAC,4BAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AAAA;AACAC,iDADA,CACA;AACA,OANA;AAOA,KAnBA;AAoBA;AACAC,eArBA,yBAqBA;AACA;AACA;AACA;AAxBA;AA3BA,C","names":["name","components","vueshowpdf","props","data","isshowpdf","isShowFileWord","openReviewDialog","tableData","workbook","mounted","created","methods","closepdf","pdferr","errurl","console","getPdfCode","method","responseType","url","then","docx","dialogClose"],"sourceRoot":"src/views/lib/file","sources":["preview.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!--FTP预览对话框-->\r\n    <vueshowpdf\r\n      @closepdf=\"closepdf\"\r\n      v-model=\"isshowpdf\"\r\n      :pdfurl=\"fileUrl\"\r\n      @pdferr=\"pdferr\"\r\n      :maxscale=\"4\"\r\n      :minscale=\"0.6\"\r\n      :scale=\"1.0\"\r\n    >\r\n    </vueshowpdf>\r\n    <!--word文件预览-->\r\n    <el-dialog\r\n      :title=\"title\"\r\n      :visible.sync=\"isShowFileWord\"\r\n      @close=\"dialogClose\"\r\n      width=\"60%\"\r\n      append-to-body\r\n    >\r\n      <div ref=\"file\"></div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport vueshowpdf from \"vueshowpdf\";\r\nimport Axios from \"axios\";\r\nlet docx = require(\"docx-preview\");\r\nexport default {\r\n  name: \"preview\",\r\n  components: { vueshowpdf },\r\n  props: [\"showExt\", \"fileUrl\"],\r\n  data() {\r\n    return {\r\n      //FTP路径\r\n      //FTP预览对话框是否打开\r\n      isshowpdf: false,\r\n      isShowFileWord: false,\r\n      openReviewDialog: false,\r\n      tableData: [],\r\n      workbook: {},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.readWorkbookFromRemoteFile(this.excelURL);\r\n  },\r\n  created() {\r\n    debugger;\r\n    if (this.showExt == \"pdf\") {\r\n      this.isshowpdf = true;\r\n    } else if (this.showExt == \"doc\") {\r\n      this.isShowFileWord = true;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    //关闭pdf预览\r\n    closepdf() {\r\n      this.$emit(\"closepdf\");\r\n      this.isshowpdf = false;\r\n    },\r\n    //pdf预览出错\r\n    pdferr(errurl) {\r\n      console.log(errurl);\r\n    },\r\n    //加载word预览\r\n    getPdfCode() {\r\n      Axios({\r\n        method: \"get\",\r\n        responseType: \"blob\",\r\n        url: fileUrl,\r\n      }).then(({ data }) => {\r\n        docx.renderAsync(data, this.$refs.file); // 渲染到页面\r\n      });\r\n    },\r\n    //对话框关闭事件\r\n    dialogClose() {\r\n      this.isShowFileWord = false;\r\n      this.$emit(\"closepdf\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}