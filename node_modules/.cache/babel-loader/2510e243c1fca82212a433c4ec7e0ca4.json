{"remainingRequest":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\index.vue","mtime":1649837786750},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\babel.config.js","mtime":1648542802000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9sbWwvRGVza3RvcC9cdTgyN0VcdTY1ODdcdTY2NkUvXHU1RTk0XHU2MDI1XHU0RThCXHU2NTQ1XHU2QzYwXHU2NTg3XHU2ODYzL0NBVC9DQVQvY29kZS9mcm9udGVuZC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiKTsKCnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJDOi9Vc2Vycy9sbWwvRGVza3RvcC9cdTgyN0VcdTY1ODdcdTY2NkUvXHU1RTk0XHU2MDI1XHU0RThCXHU2NTQ1XHU2QzYwXHU2NTg3XHU2ODYzL0NBVC9DQVQvY29kZS9mcm9udGVuZC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiKSk7Cgp2YXIgX2ZpbGUgPSByZXF1aXJlKCJAL2FwaS9saWIvZmlsZSIpOwoKdmFyIF9rZXl3b3JkID0gcmVxdWlyZSgiQC9hcGkvbGliL2tleXdvcmQiKTsKCnZhciBfY2xhc3NpZmljYXRpb24gPSByZXF1aXJlKCJAL2FwaS9saWIvY2xhc3NpZmljYXRpb24iKTsKCnZhciBfYXV0aCA9IHJlcXVpcmUoIkAvdXRpbHMvYXV0aCIpOwoKdmFyIF9wcmV2aWV3ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3ByZXZpZXcudnVlIikpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gbGV0IGxvYWRpbmc7CnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiRmlsZSIsCiAgY29tcG9uZW50czogewogICAgUHJldmlldzogX3ByZXZpZXcuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmOwoKICAgIHJldHVybiBfcmVmID0gewogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOaWh+S7tuihqOagvOaVsOaNrgogICAgICBmaWxlTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5pel5pyf6IyD5Zu0CiAgICAgIGRhdGVSYW5nZTogW10sCiAgICAgIC8v5omA5bGe54i257G7CiAgICAgIHBhcmVudElkOiBbXSwKICAgICAgLy/liIbnsbvpgInmi6npgInpobkKICAgICAgY2xhc3NpZmljYXRpb25PcHRpb25zOiBbXSwKICAgICAgLy/lhbPplK7or43pgInpobkKICAgICAga2V5d29yZE9wdGlvbnM6IHt9LAogICAgICAvL+WujOWWhOaWh+S7tuWvueivneahhgogICAgICB1cGRhdGVEaWFsb2c6IGZhbHNlLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBjbGFzc05hbWU6IHVuZGVmaW5lZAogICAgICB9LAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogImNoaWxkcmVuIiwKICAgICAgICBsYWJlbDogImxhYmVsIgogICAgICB9LAogICAgICAvLyDliIbnsbvlkI3np7AKICAgICAgY2xhc3NOYW1lOiB1bmRlZmluZWQsCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgY2xhc3NOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5paH5Lu25ZCN56ew5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH0sICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKF9yZWYsICJmaWxlTGlzdCIsIFtdKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoX3JlZiwgImNvbmZpZyIsIHsKICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgKDAsIF9hdXRoLmdldFRva2VuKSgpCiAgICB9KSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoX3JlZiwgImZpbGVVcmwiLCB1bmRlZmluZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShfcmVmLCAic2hvd0V4dCIsIHVuZGVmaW5lZCksIF9yZWY7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgICB0aGlzLmxvYWRDbGFzc2lmaWNhdGlvblRyZWVzZWxlY3QoKTsKICAgIHRoaXMubG9hZEtleXdvcmRMaXN0KCk7CiAgfSwKICBjb21wdXRlZDogewogICAgaGVhZGVyczogZnVuY3Rpb24gaGVhZGVycygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArICgwLCBfYXV0aC5nZXRUb2tlbikoKQogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOagueaNruWQjeensOetm+mAiemDqOmXqOagkQogICAgY2xhc3NOYW1lOiBmdW5jdGlvbiBjbGFzc05hbWUodmFsKSB7CiAgICAgIHRoaXMuJHJlZnMudHJlZS5maWx0ZXIodmFsKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6Lmlofku7bliJfooaggKi8KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAoMCwgX2ZpbGUubGlzdEZpbGUpKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuZmlsZUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g562b6YCJ6IqC54K5CiAgICBmaWx0ZXJOb2RlOiBmdW5jdGlvbiBmaWx0ZXJOb2RlKHZhbHVlLCBkYXRhKSB7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiB0cnVlOwogICAgICByZXR1cm4gZGF0YS5sYWJlbC5pbmRleE9mKHZhbHVlKSAhPT0gLTE7CiAgICB9LAogICAgLy8g6IqC54K55Y2V5Ye75LqL5Lu2CiAgICBoYW5kbGVOb2RlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZU5vZGVDbGljayhkYXRhKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMuZmlsZUNsYXNzSWQgPSBkYXRhLmlkOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgY2xhc3NOYW1lOiB1bmRlZmluZWQKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0sCgogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCgogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5kYXRlUmFuZ2UgPSBbXTsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAoKICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSAi5LiK5Lyg5paH5Lu2IjsKICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgfSwKCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVVcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHZhciBmaWxlSWQgPSByb3cuaWQgfHwgdGhpcy5pZHM7CiAgICAgICgwLCBfZmlsZS5nZXRGaWxlKShmaWxlSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzMi5mb3JtLmtleXdvcmRJZHMgPSByZXNwb25zZS5rZXl3b3JkSWRzOwogICAgICAgIF90aGlzMi51cGRhdGVEaWFsb2cgPSB0cnVlOwogICAgICAgIF90aGlzMi50aXRsZSA9ICLkv67mlLnmlofku7blhoXlrrkiOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOiOt+WPluWIhuexu+agkeW9oiovCiAgICBsb2FkQ2xhc3NpZmljYXRpb25UcmVlc2VsZWN0OiBmdW5jdGlvbiBsb2FkQ2xhc3NpZmljYXRpb25UcmVlc2VsZWN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICgwLCBfY2xhc3NpZmljYXRpb24uZ2V0VHJlZXNlbGVjdCkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5jbGFzc2lmaWNhdGlvbk9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCgogICAgLyoq6I635Y+W5YWz6ZSu6K+N5YiX6KGoICovCiAgICBsb2FkS2V5d29yZExpc3Q6IGZ1bmN0aW9uIGxvYWRLZXl3b3JkTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICAoMCwgX2tleXdvcmQub3B0aW9uc2VsZWN0KSgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0LmtleXdvcmRPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgZGVidWdnZXI7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciBmaWxlQ2xhc3NJZCA9IF90aGlzNS5mb3JtLmZpbGVDbGFzc0lkOwoKICAgICAgICAgIGlmIChmaWxlQ2xhc3NJZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIF90aGlzNS5mb3JtLmZpbGVDbGFzc0lkID0gcGFyc2VJbnQoZmlsZUNsYXNzSWRbZmlsZUNsYXNzSWQubGVuZ3RoIC0gMV0pOwogICAgICAgICAgfQoKICAgICAgICAgICgwLCBfZmlsZS51cGRhdGVGaWxlKShfdGhpczUuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXM1Lm1zZ1N1Y2Nlc3MoIuS/ruaUueaIkOWKnyIpOwoKICAgICAgICAgICAgX3RoaXM1LnVwZGF0ZURpYWxvZyA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXM1LmdldExpc3QoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBrZXl3b3JkSWQgPSByb3cuaWQgfHwgdGhpcy5pZHM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOWIhuexu+e8luWPt+S4uiInICsga2V5d29yZElkICsgJyLnmoTmlbDmja7pobk/JywgIuitpuWRiiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX2ZpbGUuZGVsRmlsZSkoa2V5d29yZElkKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM2LmdldExpc3QoKTsKCiAgICAgICAgX3RoaXM2Lm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAoKICAgIC8qKuWIhuexu+agkeW9om9uY2hhbmdl5LqL5Lu2ICovCiAgICBoYW5kbGVGaWxlQ2xhc3NJZENoYW5nZTogZnVuY3Rpb24gaGFuZGxlRmlsZUNsYXNzSWRDaGFuZ2UodmFsdWUpIHsKICAgICAgY29uc29sZS5sb2codmFsdWUpOwogICAgfSwKCiAgICAvKirpmZDliLbpgInmi6nkuIrkvKDkuKrmlbAgKi8KICAgIGhhbmRsZUV4Y2VlZDogZnVuY3Rpb24gaGFuZGxlRXhjZWVkKGZpbGVzLCBmaWxlTGlzdCkgewogICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIlx1NUY1M1x1NTI0RFx1OTY1MFx1NTIzNlx1OTAwOVx1NjJFOSAzIFx1NEUyQVx1NjU4N1x1NEVGNlx1RkYwQ1x1NjcyQ1x1NkIyMVx1OTAwOVx1NjJFOVx1NEU4NiAiLmNvbmNhdChmaWxlcy5sZW5ndGgsICIgXHU0RTJBXHU2NTg3XHU0RUY2XHVGRjBDXHU1MTcxXHU5MDA5XHU2MkU5XHU0RTg2ICIpLmNvbmNhdChmaWxlcy5sZW5ndGggKyBmaWxlTGlzdC5sZW5ndGgsICIgXHU0RTJBXHU2NTg3XHU0RUY2IikpOwogICAgfSwKCiAgICAvKirkuIrkvKDmiJDlip/lkI7mt7vliqDmlbDmja7liLDlkI7lj7Ag5bCG5LiK5Lyg5ZCO55qE5Zyw5Z2A5L+d5a2Y5Yiw5pWw5o2u5bqTICovCiAgICBoYW5kbGVBdmF0YXJTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVBdmF0YXJTdWNjZXNzKHJlcywgZmlsZSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgdmFyIGZpbGVJbmZvID0ge307CiAgICAgICAgZmlsZUluZm8uZmlsZU5hbWUgPSBmaWxlLm5hbWU7CiAgICAgICAgZmlsZUluZm8uZmlsZVNpemUgPSBmaWxlLnNpemU7CiAgICAgICAgZmlsZUluZm8uZmlsZUV4dCA9IGZpbGUubmFtZS5zcGxpdCgnLicpWzFdOwogICAgICAgIGZpbGVJbmZvLmZpbGVVdWlkID0gZmlsZS51aWQ7CiAgICAgICAgZmlsZUluZm8uZmlsZVBhdGggPSByZXMuZGF0YS51cmw7CiAgICAgICAgKDAsIF9maWxlLmFkZEZpbGUpKGZpbGVJbmZvKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM3Lm1zZ1N1Y2Nlc3MoIuaWsOWinuaIkOWKnyIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYmVmb3JlQXZhdGFyVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVBdmF0YXJVcGxvYWQoZmlsZSkgewogICAgICAvLyDmlofku7bnsbvlnovov5vooYzliKTmlq0KICAgICAgLy8gY29uc3QgaXNYbHN4ID0gZmlsZS50eXBlID09PSAiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQiOwogICAgICAvLyBjb25zdCBpc1hscyA9IGZpbGUudHlwZSA9PT0gImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCI7CiAgICAgIC8vIGNvbnN0IGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMjsKICAgICAgLy8gaWYgKCEoaXNYbHN4fHxpc1hscykpIHsKICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS4iuS8oOWktOWDj+WbvueJh+WPquiDveaYryB4bHN4L3hscyDmoLzlvI8hIik7CiAgICAgIC8vIH0KICAgICAgLy8gaWYgKCFpc0x0Mk0pIHsKICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS4iuS8oOWktOWDj+WbvueJh+Wkp+Wwj+S4jeiDvei2hei/hyAyTUIhIik7CiAgICAgIC8vIH0KICAgICAgLy8gcmV0dXJuIChpc1hsc3h8fGlzWGxzKSAmJiBpc0x0Mk07CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKCiAgICAvKirmlofku7bpooTop4ggKi8KICAgIHByZXZpZXc6IGZ1bmN0aW9uIHByZXZpZXcocm93KSB7CiAgICAgIGRlYnVnZ2VyOwoKICAgICAgaWYgKHJvdy5maWxlRXh0ID09ICdwZGYnKSB7CiAgICAgICAgdGhpcy5zaG93RXh0ID0gInBkZiI7CiAgICAgICAgdGhpcy5maWxlVXJsID0gcm93LmZpbGVQYXRoOwogICAgICB9CgogICAgICBpZiAocm93LmZpbGVFeHQgPT0gJ2RvY3gnIHx8IHJvdy5maWxlRXh0ID09ICdkb2MnKSB7CiAgICAgICAgdGhpcy5zaG93RXh0ID0gImRvY3giOwogICAgICAgIHRoaXMuZmlsZVVybCA9IHJvdy5maWxlUGF0aDsKICAgICAgfQogICAgfSwKICAgIC8v5YWz6ZetcGRm6aKE6KeICiAgICBjbG9zZXBkZjogZnVuY3Rpb24gY2xvc2VwZGYoKSB7CiAgICAgIHRoaXMuc2hvd0V4dCA9IHVuZGVmaW5lZDsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA+LA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;eACA;AACAA,cADA;AAEAC;AACAC;AADA,GAFA;AAKAC,MALA,kBAKA;AAAA;;AACA;AACA;AACAC,oBAFA;AAGA;AACAC,aAJA;AAKA;AACAC,kBANA;AAOA;AACAC,oBARA;AASA;AACAC,sBAVA;AAWA;AACAC,cAZA;AAaA;AACAC,kBAdA;AAeA;AACAC,eAhBA;AAiBA;AACAC,iBAlBA;AAmBA;AACAC,mBApBA;AAqBA;AACAC,kBAtBA;AAuBA;AACAC,+BAxBA;AAyBA;AACAC,wBA1BA;AA2BA;AACAC,yBA5BA;AA8BA;AACAC;AACAC,kBADA;AAEAC,oBAFA;AAGAC;AAHA,OA/BA;AAoCAC;AACAC,4BADA;AAEAC;AAFA,OApCA;AAwCA;AACAH,0BAzCA;AA2CA;AACAI,cA5CA;AA6CA;AACAC;AACAL,oBACA;AAAAM;AAAAC;AAAAC;AAAA,SADA;AADA;AA9CA,uDAoDA,EApDA,iDAqDA;AACAC;AADA,KArDA,kDAwDAC,SAxDA,kDAyDAA,SAzDA;AA4DA,GAlEA;AAmEAC,SAnEA,qBAmEA;AACA;AACA;AACA;AAEA,GAxEA;AAyEAC;AACAC,WADA,qBACA;AACA;AACA;AADA;AAGA;AALA,GAzEA;AAgFAC;AACA;AACAd,aAFA,qBAEAe,GAFA,EAEA;AACA;AACA;AAJA,GAhFA;AAsFAC;AACA;AACAC,WAFA,qBAEA;AAAA;;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA,KARA;AASA;AACAC,cAVA,sBAUAC,KAVA,EAUArC,IAVA,EAUA;AACA;AACA;AACA,KAbA;AAcA;AACAsC,mBAfA,2BAeAtC,IAfA,EAeA;AACA;AACA;AACA,KAlBA;AAoBA;AACAuC,UArBA,oBAqBA;AACA;AACA;AACA,KAxBA;AAyBA;AACAC,SA1BA,mBA0BA;AACA;AACAtB;AADA;AAGA;AACA,KA/BA;;AAgCA;AACAuB,eAjCA,yBAiCA;AACA;AACA;AACA,KApCA;;AAqCA;AACAC,cAtCA,wBAsCA;AACA;AACA;AACA;AACA,KA1CA;;AA4CA;AACAC,aA7CA,uBA6CA;AACA;AACA;AACA;AACA;AACA,KAlDA;;AAqDA;AACAC,gBAtDA,wBAsDAC,GAtDA,EAsDA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KA/DA;;AAgEA;AACAC,gCAjEA,0CAiEA;AAAA;;AACA;AACA;AACA,OAFA;AAGA,KArEA;;AAsEA;AACAC,mBAvEA,6BAuEA;AAAA;;AACA;AACA;AACA,OAFA;AAIA,KA5EA;;AA8EA;AACAC;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;;AACA;;AACA;AACA,WAJA;AAMA;AACA,OAbA;AAcA,KA/FA;;AAgGA;AACAC,gBAjGA,wBAiGAJ,GAjGA,EAiGA;AAAA;;AACA;AACA;AACAK,+BADA;AAEAC,8BAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AACA;AACA,OANA,EAMAA,IANA,CAMA;AACA;;AACA;AACA,OATA,EASAC,KATA,CASA,cATA;AAUA,KA7GA;;AA8GA;AACAC,2BA/GA,mCA+GAlB,KA/GA,EA+GA;AACAmB;AACA,KAjHA;;AAkHA;AACAC,gBAnHA,wBAmHAC,KAnHA,EAmHAnD,QAnHA,EAmHA;AACA;AACA,KArHA;;AAuHA;AACAoD,uBAxHA,+BAwHAC,GAxHA,EAwHAC,IAxHA,EAwHA;AAAA;;AACA;AACA;AACAC;AACAA;AACAA;AACAA;AACAA;AAEA;AACA;AACA,SAFA;AAGA;AACA,KArIA;AAuIAC,sBAvIA,8BAuIAF,IAvIA,EAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApJA;;AAqJA;AACAG,WAtJA,mBAsJAnB,GAtJA,EAsJA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,KAhKA;AAiKA;AACAoB,YAlKA,sBAkKA;AACA;AACA;AApKA;AAtFA,C","names":["name","components","Preview","data","loading","ids","single","multiple","showSearch","total","fileList","title","open","dateRange","parentId","classificationOptions","keywordOptions","updateDialog","queryParams","pageNum","pageSize","className","defaultProps","children","label","form","rules","required","message","trigger","Authorization","undefined","created","computed","headers","watch","val","methods","getList","filterNode","value","handleNodeClick","cancel","reset","handleQuery","resetQuery","handleAdd","handleUpdate","row","loadClassificationTreeselect","loadKeywordList","submitForm","handleDelete","confirmButtonText","cancelButtonText","type","then","catch","handleFileClassIdChange","console","handleExceed","files","handleAvatarSuccess","res","file","fileInfo","beforeAvatarUpload","preview","closepdf"],"sourceRoot":"src/views/lib/file","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row :gutter=\"20\">\n      <!--分类数据-->\n      <el-col :span=\"4\" :xs=\"24\">\n        <div class=\"head-container\">\n          <el-input\n            v-model=\"className\"\n            placeholder=\"请输入分类名称\"\n            clearable\n            size=\"small\"\n            prefix-icon=\"el-icon-search\"\n            style=\"margin-bottom: 20px\"\n          />\n        </div>\n        <div class=\"head-container\">\n          <el-tree\n            :data=\"classificationOptions\"\n            :props=\"defaultProps\"\n            :expand-on-click-node=\"false\"\n            :filter-node-method=\"filterNode\"\n            ref=\"tree\"\n            default-expand-all\n            @node-click=\"handleNodeClick\"\n          />\n        </div>\n      </el-col>\n        <el-col :span=\"20\" :xs=\"24\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" v-show=\"showSearch\" :inline=\"true\">\n\n      <el-form-item label=\"关键词名称\" prop=\"keywordName\">\n        <el-select v-model=\"queryParams.keywordIds\" multiple placeholder=\"请选择关键词\">\n                  <el-option \n                  v-for=\"item in keywordOptions\"  \n                  :key=\"item.id\" \n                  :label=\"item.keywordName\"\n                  :value=\"item.id\"\n                   clearable\n                  size=\"small\"\n                  style=\"width: 280px\"\n                   @keyup.enter.native=\"handleQuery\"\n                  ></el-option>\n          </el-select>\n      </el-form-item>\n      <el-form-item label=\"文件名称\" prop=\"keywordName\">\n        <el-input\n          v-model=\"queryParams.keywordName\"\n          placeholder=\"请输入文件名称\"\n          clearable\n          size=\"small\"\n          style=\"width: 240px\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n        >上传</el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"fileList\" \n      row-key=\"id\" \n      :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\n    >\n      <el-table-column label=\"文件编号\" prop=\"id\" />\n      <el-table-column label=\"文件名称\" prop=\"fileName\" :show-overflow-tooltip=\"true\" />\n      <el-table-column label=\"文件大小\" prop=\"fileSize\" :show-overflow-tooltip=\"true\" />\n      <el-table-column label=\"文件类型\" prop=\"fileStyle\" :show-overflow-tooltip=\"true\">\n         <template slot-scope=\"scope\">\n          <span v-if=\"scope.fileExt =='pdf'\">PDF文件</span>\n          <span v-if=\"scope.fileExt =='word'\">word文件</span>\n          <span v-if=\"scope.fileExt =='war'\">WAR压缩包</span>\n        </template>\n      </el-table-column>\n       <el-table-column label=\"文件后缀标识\" prop=\"fileExt\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"文件唯一标识\" prop=\"fileUuid\" :show-overflow-tooltip=\"true\" v-show=\"false\" />\n      <el-table-column label=\"文件分类\" prop=\"fileClassId\" :show-overflow-tooltip=\"true\" v-show=\"false\" />\n      <el-table-column label=\"文件地址\" prop=\"filePath\" :show-overflow-tooltip=\"true\" v-show=\"false\" />\n      <el-table-column label=\"文件简介\" prop=\"fileBrief\" :show-overflow-tooltip=\"true\" v-show=\"false\" />\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" >\n        <template slot-scope=\"scope\">\n          <span>{{ parseTime(scope.row.createTime) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-look\"\n            @click=\"preview(scope.row)\"\n          >查看</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n    </el-col>\n  </el-row>\n    <!-- 上传文件对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n        <el-upload\n                class=\"upload-demo\"\n                action=\"http://192.168.0.133:8080/file/upload\"\n                :headers=\"headers\"\n                :before-upload=\"beforeAvatarUpload\"  \n                :on-success=\"handleAvatarSuccess\" \n                 multiple\n                :limit=\"3\"   \n                :on-exceed=\"handleExceed\"  \n                :file-list=\"fileList\">  \n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n            <!-- <div slot=\"tip\" class=\"el-upload__tip\">只能上传xlsx/xls文件，且不超过2MB</div> -->\n        </el-upload>\n      </el-form>\n    </el-dialog>\n<!-- 修改对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"updateDialog\" width=\"500px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n        <el-form-item label=\"文件名称\" prop=\"fileName\">\n          <el-input v-model=\"form.fileName\" placeholder=\"请选择文件名称\" />\n        </el-form-item>\n        <el-form-item label=\"文件分类\" prop=\"fileClassId\">\n          <el-cascader\n                  v-model=\"form.fileClassId\"\n                  :options=\"classificationOptions\"\n                  :props=\"{ checkStrictly: true }\"\n                  :show-all-levels=\"false\"\n                  clearable\n                  @change=\"handleFileClassIdChange\"></el-cascader>\n        </el-form-item>\n         <el-form-item label=\"关键词\" prop=\"keywordIds\">\n            <el-select v-model=\"form.keywordIds\" multiple placeholder=\"请选择关键词\">\n                  <el-option \n                  v-for=\"item in keywordOptions\"  \n                  :key=\"item.id\" \n                  :label=\"item.keywordName\"\n                  :value=\"item.id\"\n                  ></el-option>\n              </el-select>\n        </el-form-item>\n         <el-form-item label=\"文件简介\" prop=\"fileBrief\">\n          <el-input  \n           type=\"textarea\"\n            autosize v-model=\"form.fileBrief\" placeholder=\"请输入文件简介\" />\n        </el-form-item>\n       \n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n    <!--预览插件-->\n    <preview v-bind:showExt=\"showExt\" :fileUrl=\"fileUrl\" @closepdf=\"closepdf\"></preview>\n  </div>\n</template>\n\n<script>\nimport { listFile,getFile,delFile,updateFile,addFile,viewFile} from \"@/api/lib/file\";\nimport { optionselect} from \"@/api/lib/keyword\";\nimport { getTreeselect} from \"@/api/lib/classification\";\nimport { getToken } from '@/utils/auth';\nimport Preview from './preview.vue';\n// let loading;\nexport default {\n  name: \"File\",\n  components: {\n    Preview\n  },\n  data() {\n    return {\n      // 遮罩层\n      loading: false,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 文件表格数据\n      fileList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 日期范围\n      dateRange: [],\n      //所属父类\n      parentId: [],\n       //分类选择选项\n      classificationOptions:[],\n      //关键词选项\n      keywordOptions:{},\n      //完善文件对话框\n      updateDialog:false,\n  \n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        className:undefined\n      },\n      defaultProps: {\n        children: \"children\",\n        label: \"label\"\n      },\n      // 分类名称\n      className: undefined,\n     \n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        className: [\n          { required: true, message: \"文件名称不能为空\", trigger: \"blur\" }\n        ]\n      },\n      //上传文件的list\n       fileList: [],\n       config :{\n         Authorization:  'Bearer ' + getToken() ,\n       },\n       fileUrl:undefined,\n       showExt:undefined\n    }\n\n  },\n  created() {\n    this.getList();\n    this.loadClassificationTreeselect()\n    this.loadKeywordList()\n    \n  },\n  computed: {\n    headers() {\n      return {\n          'Authorization': 'Bearer ' + getToken() ,\n      }\n   },\n  },\n  watch: {\n  // 根据名称筛选部门树\n  className(val) {\n    this.$refs.tree.filter(val);\n  }\n},\n  methods: {\n    /** 查询文件列表 */\n    getList() {\n     this.loading = true;\n     listFile(this.queryParams).then(response => {\n        this.fileList = response.rows;\n        this.loading = false;\n      });\n    },\n        // 筛选节点\n    filterNode(value, data) {\n      if (!value) return true;\n      return data.label.indexOf(value) !== -1;\n    },\n    // 节点单击事件\n    handleNodeClick(data) {\n      this.queryParams.fileClassId = data.id;\n      this.getList();\n    },\n  \n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        className: undefined\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.dateRange = [];\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n   \n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.open = true\n      this.title = \"上传文件\";\n      this.fileList = []\n    },\n    \n\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      const fileId = row.id || this.ids\n      getFile(fileId).then(response => {\n        this.form = response.data;\n        this.form.keywordIds= response.keywordIds\n        this.updateDialog = true\n        this.title = \"修改文件内容\";\n      });\n    },\n    /** 获取分类树形*/\n    loadClassificationTreeselect(){\n      getTreeselect().then(response=>{\n        this.classificationOptions = response.data;\n      })\n    },\n    /**获取关键词列表 */\n     loadKeywordList() {\n        optionselect().then(response => {\n            this.keywordOptions = response.data;\n          }\n        );\n      },\n   \n    /** 提交按钮 */\n    submitForm: function() {\n      debugger\n       this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          let fileClassId = this.form.fileClassId;\n          if(fileClassId.length >0){\n            this.form.fileClassId = parseInt(fileClassId[fileClassId.length-1])\n          }\n            updateFile(this.form).then(response => {\n              this.msgSuccess(\"修改成功\");\n              this.updateDialog = false;\n              this.getList();\n            });\n          \n        }\n      });\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const keywordId = row.id || this.ids;\n      this.$confirm('是否确认删除分类编号为\"' + keywordId + '\"的数据项?', \"警告\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }).then(function() {\n          return delFile(keywordId);\n        }).then(() => {\n          this.getList();\n          this.msgSuccess(\"删除成功\");\n        }).catch(() => {});\n    },\n    /**分类树形onchange事件 */\n    handleFileClassIdChange(value){\n      console.log(value);\n    },\n    /**限制选择上传个数 */\n      handleExceed(files, fileList) {\n          this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n      },\n\n      /**上传成功后添加数据到后台 将上传后的地址保存到数据库 */\n      handleAvatarSuccess(res, file) {\n        if(res.code === 200){\n          let fileInfo = {}\n          fileInfo.fileName = file.name\n          fileInfo.fileSize = file.size\n          fileInfo.fileExt = file.name.split('.')[1]\n          fileInfo.fileUuid = file.uid\n          fileInfo.filePath  = res.data.url\n\n          addFile(fileInfo).then(response => {\n              this.msgSuccess(\"新增成功\");\n          });\n        }\n        },\n      \n        beforeAvatarUpload(file) {\n            // 文件类型进行判断\n            // const isXlsx = file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n            // const isXls = file.type === \"application/vnd.ms-excel\";\n            // const isLt2M = file.size / 1024 / 1024 < 2;\n            // if (!(isXlsx||isXls)) {\n            //     this.$message.error(\"上传头像图片只能是 xlsx/xls 格式!\");\n            // }\n            // if (!isLt2M) {\n            //     this.$message.error(\"上传头像图片大小不能超过 2MB!\");\n            // }\n            // return (isXlsx||isXls) && isLt2M;\n            return true;\n        },\n        /**文件预览 */\n      preview(row) {\n        debugger\n        if(row.fileExt == 'pdf' ){\n          this.showExt  = \"pdf\"\n          this.fileUrl = row.filePath\n        }\n        if(row.fileExt == 'docx' || row.fileExt == 'doc' ){\n          this.showExt  = \"docx\"\n           this.fileUrl = row.filePath\n        }\n      },\n      //关闭pdf预览\n      closepdf () {\n        this.showExt = undefined\n      },\n  }\n};\n</script>"]}]}