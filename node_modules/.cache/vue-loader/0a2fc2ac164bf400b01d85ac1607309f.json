{"remainingRequest":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\preview.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\src\\views\\lib\\file\\preview.vue","mtime":1649837885826},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lml\\Desktop\\艾文普\\应急事故池文档\\CAT\\CAT\\code\\frontend\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdnVlc2hvd3BkZiBmcm9tICJ2dWVzaG93cGRmIjsNCmltcG9ydCBBeGlvcyBmcm9tICJheGlvcyI7DQpsZXQgZG9jeCA9IHJlcXVpcmUoImRvY3gtcHJldmlldyIpOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAicHJldmlldyIsDQogIGNvbXBvbmVudHM6IHsgdnVlc2hvd3BkZiB9LA0KICBwcm9wczogWydzaG93RXh0JywgJ2ZpbGVVcmwnXSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy9GVFDot6/lvoQNCiAgICAgIC8vRlRQ6aKE6KeI5a+56K+d5qGG5piv5ZCm5omT5byADQogICAgICBpc3Nob3dwZGY6IGZhbHNlLA0KICAgICAgaXNTaG93RmlsZVdvcmQ6IGZhbHNlLA0KICAgICAgb3BlblJldmlld0RpYWxvZzogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpew0KICB9LA0Kd2F0Y2g6IHsNCiAgc2hvd0V4dCAodmFsKSB7DQogICAgZGVidWdnZXINCiAgICBpZiAodmFsID09ICdkb2N4Jykgew0KICAgICB0aGlzLmlzU2hvd0ZpbGVXb3JkID0gdHJ1ZQ0KICAgICAgIHRoaXMuZ2V0UGRmQ29kZSgpOw0KICAgIH0NCiAgICBpZih2YWwgPT0gJ3BkZicpew0KICAgICAgIHRoaXMuaXNzaG93cGRmID0gdHJ1ZTsNCiAgICB9DQogIH0NCn0sDQoNCiAgbWV0aG9kczogew0KICAgIC8v5YWz6ZetcGRm6aKE6KeIDQogICAgY2xvc2VwZGYoKSB7DQogICAgICB0aGlzLiRlbWl0KCdjbG9zZXBkZicpDQogICAgICB0aGlzLmlzc2hvd3BkZiA9IGZhbHNlOw0KICAgIH0sDQogICAgLy9wZGbpooTop4jlh7rplJkNCiAgICBwZGZlcnIoZXJydXJsKSB7DQogICAgICBjb25zb2xlLmxvZyhlcnJ1cmwpOw0KICAgIH0sDQogICAgLy/liqDovb13b3Jk6aKE6KeIDQogICAgZ2V0UGRmQ29kZSgpIHsNCiAgICAgIGRlYnVnZ2VyDQogICAgICBBeGlvcyh7DQogICAgICAgIG1ldGhvZDogImdldCIsDQogICAgICAgIHJlc3BvbnNlVHlwZTogImJsb2IiLA0KICAgICAgICB1cmw6IGZpbGVVcmwsDQogICAgICB9KS50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICBkb2N4LnJlbmRlckFzeW5jKGRhdGEsIHRoaXMuJHJlZnMuZmlsZSk7IC8vIOa4suafk+WIsOmhtemdog0KICAgICAgfSk7DQogICAgfSwNCiAgICAvL+WvueivneahhuWFs+mXreS6i+S7tg0KICAgIGRpYWxvZ0Nsb3NlKCl7DQogICAgICB0aGlzLmlzU2hvd0ZpbGVXb3JkID0gZmFsc2U7DQogICAgICB0aGlzLiRlbWl0KCdjbG9zZXBkZicpDQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["preview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"preview.vue","sourceRoot":"src/views/lib/file","sourcesContent":["<template>\r\n  <div >\r\n    <!--FTP预览对话框-->\r\n      <vueshowpdf\r\n        @closepdf=\"closepdf\"\r\n        v-model=\"isshowpdf\"\r\n        :pdfurl=\"fileUrl\"\r\n        @pdferr=\"pdferr\"\r\n        :maxscale=\"4\"\r\n        :minscale=\"0.6\"\r\n        :scale=\"1.0\"\r\n      >\r\n      </vueshowpdf>\r\n    <!--word文件预览-->\r\n    <el-dialog \r\n      @close=\"dialogClose\"\r\n      :visible.sync=\"isShowFileWord\"\r\n      width=\"60%\"\r\n      append-to-body\r\n    >\r\n        <div ref=\"file\"></div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport vueshowpdf from \"vueshowpdf\";\r\nimport Axios from \"axios\";\r\nlet docx = require(\"docx-preview\");\r\nexport default {\r\n  name: \"preview\",\r\n  components: { vueshowpdf },\r\n  props: ['showExt', 'fileUrl'],\r\n  data() {\r\n    return {\r\n      //FTP路径\r\n      //FTP预览对话框是否打开\r\n      isshowpdf: false,\r\n      isShowFileWord: false,\r\n      openReviewDialog: false,\r\n    };\r\n  },\r\n  created(){\r\n  },\r\nwatch: {\r\n  showExt (val) {\r\n    debugger\r\n    if (val == 'docx') {\r\n     this.isShowFileWord = true\r\n       this.getPdfCode();\r\n    }\r\n    if(val == 'pdf'){\r\n       this.isshowpdf = true;\r\n    }\r\n  }\r\n},\r\n\r\n  methods: {\r\n    //关闭pdf预览\r\n    closepdf() {\r\n      this.$emit('closepdf')\r\n      this.isshowpdf = false;\r\n    },\r\n    //pdf预览出错\r\n    pdferr(errurl) {\r\n      console.log(errurl);\r\n    },\r\n    //加载word预览\r\n    getPdfCode() {\r\n      debugger\r\n      Axios({\r\n        method: \"get\",\r\n        responseType: \"blob\",\r\n        url: fileUrl,\r\n      }).then(({ data }) => {\r\n        docx.renderAsync(data, this.$refs.file); // 渲染到页面\r\n      });\r\n    },\r\n    //对话框关闭事件\r\n    dialogClose(){\r\n      this.isShowFileWord = false;\r\n      this.$emit('closepdf')\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}